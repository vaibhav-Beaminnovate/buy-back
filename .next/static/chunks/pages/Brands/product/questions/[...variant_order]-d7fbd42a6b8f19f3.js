(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{597:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Brands/product/questions/[...variant_order]",function(){return a(4678)}])},9722:function(e,t,a){"use strict";var s=a(5893),l=a(4863),r=a(7294),n=a(3942),i=a.n(n);t.Z=e=>{let{maxNumber:t=69,buttonStyles:a={},imageStyles:n={},containerStyles:c={},onImagesChange:o=()=>{},folderName:d,s3imageUrlArray:u,setS3imageUrlArray:m,tag:h,imageName:x,setImageName:p,setAadharCount:f,aadharCount:g,setPhoneCount:b,phoneCount:y,clearImages:j}=e,[w,v]=(0,r.useState)([]),[N,_]=(0,r.useState)(!1),I="https://buybackservice.unicornstore.in",S=e=>e.reduce((e,t)=>({...e,...t}),{});(0,r.useEffect)(()=>{u&&S(u)[h]&&v([{data_url:S(u)[h]}])},[u,h]),(0,r.useEffect)(()=>{j&&j(()=>v([]))},[j]),(0,r.useEffect)(()=>{("GST_certificate"===h||"cheque"===h||"company_logo"===h)&&v(u.filter(e=>e[h]).map(e=>({original_url:e[h],data_url:"".concat(e[h],"?t=").concat(new Date().getTime())})))},[u,h]);let k=e=>({front_aadhar:"front_aadhar",back_aadhar:"back_aadhar",Top:"Top",Bottom:"Bottom",Front:"Front",Back:"Back",Left:"Left",Right:"Right",front_invoice:"front_invoice",back_invoice:"back_invoice"})[e]||e,E=e=>{m(t=>t.filter(t=>!Object.values(t).includes(e)))},C=e=>{let[t,a]=e.split(","),s=t.split(":")[1].split(";")[0],l=atob(a),r=new ArrayBuffer(l.length),n=new Uint8Array(r);for(let e=0;e<l.length;e++)n[e]=l.charCodeAt(e);return new Blob([r],{type:s})},A=(e,t)=>new File([e],t,{type:e.type}),M=async e=>{let t=new FormData;e.forEach(e=>t.append("file",e));try{_(!0);let e=await fetch("".concat(I,"/upload-for-order-detail/?folder_name=").concat(d),{method:"POST",body:t});if(!e.ok)throw Error("Failed to upload images");let a=await e.json();m(e=>[...e,{[k(h)]:a.s3_image_url}]),["Top","Bottom","Front","Back","Left","Right"].includes(h)&&b(e=>e+1),["front_aadhar","back_aadhar"].includes(h)&&f(e=>e+1)}catch(e){console.error("Error uploading images:",e)}finally{_(!1)}},D=(0,r.useCallback)((e,t)=>{p(h+(x+1)),v(e),o(e,t),M(e.map(e=>A(C(e.data_url),"image_".concat(x,".jpg"))))},[o,h,x,M]),T=async e=>{try{if(!(await fetch("".concat(I,"/remove-image?s3_image=").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete image");["Top","Bottom","Front","Back","Left","Right"].includes(h)&&b(e=>e-1),["front_aadhar","back_aadhar"].includes(h)&&f(e=>e-1)}catch(e){console.error("Error deleting image:",e)}},q=async e=>{let t=w[e];console.log({imageToRemove:t});let a=t&&t.data_url;await T(a),E(a),v(t=>t.filter((t,a)=>a!==e)),m(e=>e.filter(e=>!Object.values(e).includes(a)))};return N?(0,s.jsx)("div",{className:"w-full max-h-full h-full relative grid place-content-center",children:(0,s.jsx)(l.c,{})}):(0,s.jsx)("div",{className:"w-full h-full max-h-full relative ".concat(c),children:(0,s.jsx)(i(),{multiple:!0,value:w,onChange:D,maxNumber:t,dataURLKey:"data_url",children:e=>{let{imageList:t,onImageUpload:l,isDragging:r,dragProps:i}=e;return(0,s.jsxs)("div",{className:"flex flex-col w-full h-full items-center justify-center max-h-full",children:[(0,s.jsx)("button",{style:{...a,color:r?"red":void 0},onClick:l,...i,className:"text-gray-400 w-full h-full content-center absolute top-0 left-0 ",children:(0,s.jsx)("span",{className:"".concat(w.length>0?"hidden":""),children:"Click here to upload or Drop here"})}),(0,s.jsx)("div",{className:"overflow-y-scroll scrollbar-hidden z-10 w-full",children:(0,s.jsx)("div",{className:"flex items-center justify-center w-full space-y-5",children:t.map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-start md:justify-center ",children:[(0,s.jsx)("div",{className:"flex flex-row absolute right-1 space-x-1 top-1 h-full",children:(0,s.jsx)("button",{className:"text-red-500 bg-gray-200 rounded px-1 text-xl h-fit sticky top-1",onClick:e=>{e.stopPropagation(),q(t)},children:(0,s.jsx)("i",{className:"bi bi-x-square"})})}),(0,s.jsx)("img",{className:"h-full",src:e.data_url,alt:"",style:n})]},t))})})]})}})})}},4678:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var s=a(5893),l=a(7294),r=e=>{let{journeyData:t}=e;return t&&"success"===t.status&&Array.isArray(t.data)&&0!==t.data.length?(0,s.jsx)("div",{className:"w-full h-full flex flex-col",children:t.data.map((e,t)=>Object.keys(e).map(a=>{let l=e[a];return Array.isArray(l)?(0,s.jsxs)("div",{className:"journey-element",children:[(0,s.jsxs)("p",{className:" text-lg font-semibold accent",children:[a,":"]}),l.map((e,t)=>(0,s.jsx)("p",{className:"ms-2",children:e&&e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()||"No detail available"},t))]},"".concat(t,"-").concat(a)):(0,s.jsx)("div",{className:"journey-element",children:(0,s.jsxs)("p",{children:["Error: Details are not available for ",a,"."]})},"".concat(t,"-").concat(a))}))}):(0,s.jsx)("p",{})},n=a(9722),i=a(9008),c=a.n(i),o=a(5675),d=a.n(o),u=a(1163),m=a(8386),h=a(373),x=a(5152),p=a.n(x),f=a(7957),g=a(8620),b=a(1680),y=a(199),j=a(7740),w=a(6597),v=a(9412),N=a(5066),_=e=>{let{buyerData:t}=e,l=()=>'\n          <div style="font-size: 13px; line-height: 1.2; width: 100%; box-sizing: border-box; padding: 10mm;">\n            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; align-items: start; width: 100%;">\n              <div>\n                <p style="font-size:18px; font-weight: bold;">Customer Purchase Receipt</p>\n                <p style="margin-top:10px">Date: '.concat((0,N.a)(new Date),'</p>\n                <p>Service Number: </p>\n                <p>Buyer: Unicorn </p>\n              </div>\n              <div style="text-align: right;">\n                <p style="font-size: 18px; font-weight: bold;">BuyBack</p>\n                <p style="font-size: 12px;">www.buyback.in</p>\n              </div>\n              <div style="grid-column: span 2 / span 2; background-color:#eee; padding: 16px; border-radius: 4px; border:1px solid #ddd">\n                <table style="width: 100%; border-collapse: collapse;">\n                  <tr>\n                    <td style="font-weight: bold; width: 100px;">Seller Details:</td>\n                    <td></td>\n                  </tr>\n                  <tr>\n                    <td style="font-weight: bold; padding: 5px 0; width: 100px;">Name:</td>\n                    <td style="padding: 5px 0;">').concat(t.username+" "+t.userLastName,'</td>\n                  </tr>\n                  <tr>\n                    <td style="font-weight: bold; padding: 5px 0; width: 100px;">Contact No.:</td>\n                    <td style="padding: 5px 0;">').concat(t.userPhone,'</td>\n                  </tr>\n                  <tr>\n                    <td style="font-weight: bold; padding: 5px 0; width: 100px;">Email Id:</td>\n                    <td style="padding: 5px 0;">').concat(t.userEmail,'</td>\n                  </tr>\n                </table>\n              </div>\n              <div style="grid-column: span 2 / span 2; margin: 10px 0px 0px 0px">\n                <p style="font-weight: bold; font-size:16px;">INDEMNITY BOND</p>\n                <p style="margin: 8px 0px">This Bond of Indemnity is made and executed by: <strong>').concat(t.username+" "+t.userLastName,'</strong> Herein after referred to as "Seller" who has come in Retail store of <strong>UNICORN @ CITY</strong> to sell his/her old Gadget, to the Unicorn Network herein after referred to as "Purchaser" which expression shall mean and include its representative, executors, nominee, partness, affiliates and assigns on day of <strong>').concat((0,N.a)(new Date),'</strong>  </p>\n                <p style="text-align:right;"><strong>').concat(t.username+" "+t.userLastName,"</strong> <br /> Seller Name</p>\n              </div>\n              \n            </div>\n          </div>\n        ");return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:l()}}),(0,s.jsx)("div",{className:"text-center mt-8",children:(0,s.jsx)("button",{onClick:()=>{a.e(607).then(a.t.bind(a,8607,23)).then(e=>{(0,e.default)({printable:l(),type:"raw-html",honorMarginPadding:!0,style:"\n                @page {\n                  size: A4;\n                  margin: 0;\n                }\n                body {\n                  margin: 0;\n                }\n                div {\n                  width: 100%;\n                } \n              "})}).catch(e=>{console.error("Failed to load printJS:",e)})},className:"bg-primary text-white px-6 py-2 rounded block ms-auto col-span-",children:"Print Receipt"})})]})},I=a(9134),S=a(3942),k=a.n(S),E=a(4863),C=e=>{let{maxNumber:t=1,onImagesChange:a=()=>{},s3imageUrlArray:r,setS3imageUrlArray:n,tag:i,imageName:c,setImageName:o}=e,[d,u]=(0,l.useState)([]),[m,h]=(0,l.useState)(""),[x,p]=(0,l.useState)(!1),[f,g]=(0,l.useState)(!1),[b,y]=(0,l.useState)(""),j="https://buybackservice.unicornstore.in";(0,l.useEffect)(()=>{r&&r[i]&&(r[i],u([{data_url:r[i]}]),y(r[i]),h(i))},[r,i]);let w=e=>{n(t=>{let a={...t};return delete a[e],a})},v=e=>{let[t,a]=e.split(","),s=t.split(":")[1].split(";")[0],l=atob(a),r=new ArrayBuffer(l.length),n=new Uint8Array(r);for(let e=0;e<l.length;e++)n[e]=l.charCodeAt(e);return new Blob([r],{type:s})},N=(e,t)=>new File([e],t,{type:e.type}),_=async e=>{try{if(p(!0),!["image/jpeg","image/png","image/jpg"].includes(e[0].type))throw Error("Unsupported file type, please use jpeg or png instead");let t=new Blob([e[0]],{type:e[0].type}),a=new FormData;a.append("file",t);let s=await fetch("".concat(j,"/upload-image/"),{method:"POST",body:a});if(!s.ok)throw Error("Failed to upload images");let l=await s.json();if("success"===l.status)n(e=>({...e,[i]:l.url})),h(l.s3_image),y(l.url),g(!1);else throw Error(l.message)}catch(e){console.error("Error uploading images:",e),I.Am.error(e.message,{toastId:"UploadMiscImageError"}),g(!0)}finally{p(!1)}},S=(0,l.useCallback)((e,t)=>{o(i+(c+1)),u(e),a(e,t),_(e.map(e=>N(v(e.data_url),"image_".concat(c,".jpg"))))},[a,i,c,_]),C=async e=>{try{if(!(await fetch("".concat(j,"/remove-image?url=").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete image")}catch(e){console.error("Error deleting image:",e)}},A=async()=>{try{await C(b),w(m),u([]),n(e=>{let t={...e};return delete t[m],t})}catch(e){console.error("Error removing image:",e),I.Am.error(e.message,{toastId:"ImageRemoveError"})}};return x?(0,s.jsx)("div",{className:"w-full max-h-full relative grid place-content-center",children:(0,s.jsx)(E.c,{})}):(0,s.jsx)("div",{className:"w-full h-full max-h-full relative",children:(0,s.jsx)(k(),{value:d,onChange:S,dataURLKey:"data_url",children:e=>{let{imageList:t,onImageUpload:a,isDragging:l,dragProps:r,errors:n}=e;return(0,s.jsxs)("div",{className:"flex flex-col w-full h-full items-center justify-center max-h-full",children:[(0,s.jsx)("button",{onClick:a,...r,className:"w-full h-full content-center absolute top-0 left-0  outline-none ".concat(l?"text-red-500":""),children:!n&&(0,s.jsx)("span",{className:"".concat(d.length>0?"hidden":""," "),children:f?"Failed to upload image, please try again":"Click here to upload or Drop here"})}),(0,s.jsx)("div",{className:"overflow-y-scroll scrollbar-hidden z-10 w-full",children:(0,s.jsx)("div",{className:"flex items-center justify-center w-full space-y-5",children:f?"Failed to upload image, please try again":t.map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-start md:justify-center ",children:[(0,s.jsx)("div",{className:"flex flex-row absolute right-1 space-x-1 top-1 h-full",children:(0,s.jsx)("button",{className:"text-red-500 border border-red-500 hover:bg-red-500 hover:text-white transition-all bg-white rounded px-2 text-xl h-fit sticky top-1",onClick:e=>{e.stopPropagation(),A(t)},children:(0,s.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,s.jsx)("img",{className:"h-full",src:b,alt:""})]},t))})})]})}})})},A=a(3246),M=a(5961),D=a.n(M);p()(()=>a.e(607).then(a.t.bind(a,8607,23)),{loadableGenerated:{webpack:()=>[8607]},ssr:!1});var T=()=>{let e=(0,u.useRouter)(),{variant_order:t}=e.query,i="https://buybackservice.unicornstore.in",[o,x]=(0,l.useState)(null),[p,S]=(0,l.useState)(""),[k,E]=(0,l.useState)(!0),[M,T]=(0,l.useState)(null),[q,P]=(0,l.useState)([]),[O,B]=(0,l.useState)({}),[z,F]=(0,l.useState)(!0),[U,L]=(0,l.useState)(null),[R,K]=(0,l.useState)(0),[Z,J]=(0,l.useState)(""),[V,G]=(0,l.useState)(""),[H,Y]=(0,l.useState)(""),[X,Q]=(0,l.useState)(""),[W,$]=(0,l.useState)(""),[ee,et]=(0,l.useState)(""),[ea,es]=(0,l.useState)(!1),[el,er]=(0,l.useState)(!0),[en,ei]=(0,l.useState)(null),[ec,eo]=(0,l.useState)(!1),[ed,eu]=(0,l.useState)(0),[em,eh]=(0,l.useState)(!1),[ex,ep]=(0,l.useState)(!0),[ef,eg]=(0,l.useState)(""),[eb,ey]=(0,l.useState)([]),[ej,ew]=(0,l.useState)(""),[ev,eN]=(0,l.useState)(!1),[e_,eI]=(0,l.useState)(null),[eS,ek]=(0,l.useState)(!1),[eE,eC]=(0,l.useState)(""),[eA,eM]=(0,l.useState)(""),[eD,eT]=(0,l.useState)(""),[eq,eP]=(0,l.useState)(new Set),[eO,eB]=(0,l.useState)(0),ez=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,[eF,eU]=(0,l.useState)(0),[eL,eR]=(0,l.useState)(0),[eK,eZ]=(0,l.useState)(!1),[eJ,eV]=(0,l.useState)(""),[eG,eH]=(0,l.useState)(!1),[eY,eX]=(0,l.useState)(!1),[eQ,eW]=(0,l.useState)(!0),[e$,e0]=(0,l.useState)({userEmail:H,userPhone:X,userLastName:V,username:Z}),[e1,e2]=(0,l.useState)({}),[e3,e5]=(0,l.useState)({}),[e4,e8]=(0,l.useState)("indemnityBody"),{isOpen:e6,onOpen:e7,onOpenChange:e9}=(0,f.q)(),[te,tt]=(0,l.useState)(0),[ta,ts]=(0,l.useState)({price:!0,verification:!1,phoneDetails:!1,indemnity:!1}),[tl,tr]=(0,l.useState)({price:!1,verification:!1,phoneDetails:!1,indemnity:!1}),[tn,ti]=(0,l.useState)({oldIMEI:"",newIMEI:""}),[tc,to]=(0,l.useState)({oldIMEI:"",newIMEI:""}),[td,tu]=(0,l.useState)(!1),[tm,th]=(0,l.useState)([]),[tx,tp]=(0,l.useState)(null),[tf,tg]=(0,l.useState)(""),tb=(0,N.dQ)();(0,l.useEffect)(()=>{e0({userEmail:H,userPhone:X,userLastName:V,username:Z})},[H,X,V,Z]),(0,l.useEffect)(()=>{let e;return ed>0?e=setInterval(()=>{eu(e=>e-1)},1e3):eh(!1),()=>clearInterval(e)},[ed]);let ty=()=>{Y(""),J(""),G(""),Q(""),et(""),es(!1),ep(!0),eh(!1),eu(0),ey([]),ew(""),eU(0),eR(0),eX(!1),eZ(!1)};function tj(e,t){B(a=>{let s={...a};return s[e]===t?delete s[e]:s[e]=t,s})}let tw=async()=>{try{if(!(await fetch("".concat(i,"/delete-all-by-order-id?order_id=").concat(t[1]),{method:"DELETE",headers:{Authorization:tb}})).ok)throw Error("Delete failed")}catch(e){console.log(e),T(e.message)}},tv=async()=>{E(!0);try{let e=await fetch("".concat(i,"/get-variant-by-id/?variant_id=").concat(t[0]),{headers:{Authorization:tb}});if(!e.ok)throw Error("Failed to fetch variant");let a=await e.json();if(L(a),!a.product_id)throw Error("Product ID is missing in variant");let s=await fetch("".concat(i,"/get-product-by-id/?product_id=").concat(a.product_id),{headers:{Authorization:tb}});if(!s.ok)throw Error("Failed to fetch product");let l=await s.json();x(l);let r=await fetch("".concat(i,"/get-brand-by-id/?brand_id=").concat(l.brand_id),{headers:{Authorization:tb}});if(!r.ok)throw Error("Failed to fetch brand");let n=await r.json();S(n.name);let c=await fetch("".concat(i,"/get-questions-by-product?product_id=").concat(a.product_id),{headers:{Authorization:tb}});if(!c.ok)throw Error("Failed to fetch questions");let o=await c.json();P(o.result);let d=new Set(o.result.filter(e=>1===e.set_base_value).map(e=>e.question_id));eP(d)}catch(e){T(e.message)}finally{E(!1)}};(0,l.useEffect)(()=>{ey([]),t&&(eM(localStorage.getItem("staff_id")),tp(localStorage.getItem("staff_login")),"false"===localStorage.getItem("staff_login")?($(localStorage.getItem("name")),tg(localStorage.getItem("executive_id"))):tL(localStorage.getItem("staff_id")),tw(),tv())},[t,i]),(0,l.useEffect)(()=>{let e=Object.keys(O).length>0;e?e&&ek(!0):ek(!1),tI()&&eT("")},[O]),(0,l.useEffect)(()=>{"yes"===O.satisfied&&er(!0)},[O.satisfied]);let tN=async(e,a)=>{if(z)try{if(F(!1),!(await fetch("".concat(i,"/create-product-question-answer"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:tb},body:JSON.stringify({variant_id:t[0],order_id:t[1],question_id:e,answer:a})})).ok)throw Error("Failed to submit answer")}catch(e){console.error("Error submitting answer:",e.message)}finally{F(!0)}},t_=(e,t)=>{tN(e,t),setTimeout(()=>{tP()},250)},tI=()=>q.filter(e=>1===e.set_base_value).map(e=>e.question_id).every(e=>O[e]),tS=async e=>{if(tI()){e7(),K("Loading...");try{let t=await fetch("".concat(i,"/create-order-detail/?order_id=").concat(e,"&staff_id=").concat(eA),{method:"POST",headers:{Authorization:tb}});if(!t.ok)throw Error("Could not create order detail");let a=await t.json();"error"===a.status||"info"===a.status?K("Something went wrong"):(K(a.exact_value),eC(a.order_detail_id),e2(a))}catch(e){console.log(e)}}else{eT("Please fill all required fields.");return}},tk=async()=>{if(ez.test(H))try{ew(""),es(!0);let e=await fetch("".concat(i,"/customer/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:tb},body:JSON.stringify({first_name:Z,last_name:V,email:H,phone_number:X})});if(!e.ok)throw Error("could not create customer");let t=await e.json();ei(t.customer_id),eu(60),eh(!0),ep(!1)}catch(e){console.log(e)}else ew("Please enter a valid email address.")},tE=async()=>{if(ez.test(H))try{ew(""),es(!0);let e=await fetch("".concat(i,"/customer/create?otp_for=terms"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:tb},body:JSON.stringify({first_name:Z,last_name:V,email:H,phone_number:X})});if(!e.ok)throw Error("could not create customer");let t=await e.json();ei(t.customer_id),eu(60),eh(!0),ep(!1)}catch(e){console.log(e)}else ew("Please enter a valid email address.")},tC=async()=>{try{let e=await fetch("".concat(i,"/confirm-otp?customer_id=").concat(en,"&otp=").concat(ee,"&order_id=").concat(t[1]),{headers:{Authorization:tb}});if(!e.ok)throw Error("Could not confirm otp");let a=await e.json();"success"===a.status?(eZ(!0),eo(!1)):eo(!0)}catch(e){console.log(e)}},tA=async()=>{try{let e=await fetch("".concat(i,"/confirm-otp?customer_id=").concat(en,"&otp=").concat(eJ,"&order_id=").concat(t[1],"&otp_for=terms"),{headers:{Authorization:tb}});if(!e.ok)throw Error("Could not confirm otp");let a=await e.json();"success"===a.status?(tM(),tt(2),tr(e=>({...e,verification:!0})),ts(e=>({...e,phoneDetails:!0})),eH(!1)):eH(!0)}catch(e){console.log(e)}},tM=async()=>{try{let e=await fetch("".concat(i,"/create-order-folder/?order_id=").concat(t[1]),{method:"POST",headers:{Authorization:tb}});if(!e.ok)throw Error("Could not create order folder");let a=await e.json();eg(a.folder)}catch(e){console.log(e)}},tD=e=>{let{name:t,value:a}=e.target;ti({...tn,[t]:a}),to(e=>{let s={...e};return"oldIMEI"===t&&(a.trim()?15!==a.trim().length?s.oldIMEI="Old IMEI must be 15 digits":s.oldIMEI="":s.oldIMEI="Old IMEI is required"),"newIMEI"===t&&(a.trim()?15!==a.trim().length?s.newIMEI="New IMEI must be 15 digits":s.newIMEI="":s.newIMEI="New IMEI is required"),s})},tT=()=>{let e={};return tn.oldIMEI.trim()?tn.oldIMEI.length<15&&(e.oldIMEI="Old IMEI must be 15 digits"):e.oldIMEI="Old IMEI is required",tn.newIMEI.trim()?tn.newIMEI.length<15&&(e.newIMEI="New IMEI must be 15 digits"):e.newIMEI="New IMEI is required",to(e),console.log({newErrors:e}),0===Object.keys(e).length},tq=async()=>{if(tT())try{let e=await fetch("".concat(i,"/insert-images-in-order-detail?order_id=").concat(t[1],"&old_imei=").concat(tn.oldIMEI).concat(tn.newIMEI.length>0?"&new_imei=".concat(tn.newIMEI):"","&staff_id=").concat(eA),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:tb},body:JSON.stringify(eb)});if(!e.ok)throw Error("Could not insert images in order detil");await e.json(),tt(3),tr(e=>({...e,phoneDetails:!0})),ts(e=>({...e,indemnity:!0}))}catch(e){console.log(e.message),I.Am.error(e.message)}},tP=async()=>{try{let e=await fetch("".concat(i,"/get-all-journey?order_id=").concat(t[1]),{headers:{Authorization:tb}});if(!e.ok)throw Error("Failed to submit answer");if(e.ok){let t=await e.json();eI(t)}}catch(e){console.log(e)}},tO=async()=>{try{if(!(await fetch("".concat(i,"/delete-order-detail/?id=").concat(eE),{method:"DELETE",headers:{Authorization:tb}})).ok)throw Error("Could not delete order detail")}catch(e){console.log(e)}},tB=e=>{let a=document.createElement("svg");D()(a,t[1],{format:"CODE128",width:1,height:20});let s=a.querySelector("text");s&&s.remove();let l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("style","font: 14px monospace"),l.setAttribute("text-anchor","middle"),l.setAttribute("x","44"),l.setAttribute("y",45),l.textContent="OID: ".concat(t[1]),a.appendChild(l);let r=a.outerHTML;return console.log(a),'\n      <div style="font-size: 10px; width: 25mm; height: 11mm; padding: 0; display: flex; align-items: center; justify-content: center; padding: 8px 0px 0px 0px; border:0.1px solid black; box-sizing:border-box">\n        '.concat(r,"\n      </div>\n    ")},tz=async e=>{if(""===tf){tu("Executive Name is required"),I.Am.error("Executive name is required");return}if(tu(!1),!e3.indemnityBond){I.Am.error("Please upload a signed copy of the indemnity bond");return}try{let t=await fetch("".concat(i,"/set-exchange-type"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:tb},body:JSON.stringify({order_detail_id:eE,executive_id:tf,coupon_exchange:eQ,img_url:e3.indemnityBond,customer_id:en})});if(!t.ok)throw Error("Could not set exchange type");let a=await t.json();if("success"!==a.status)throw Error(a.message);e(),tF(),setTimeout(()=>{eN(!0)},500)}catch(e){I.Am.error(e.message)}},tF=()=>{a.e(607).then(a.t.bind(a,8607,23)).then(e=>{(0,e.default)({printable:tB(e_.data),type:"raw-html",style:"\n            @page { \n              size: 25mm 14mm; \n              margin: 0; \n            } \n            body { \n              display: flex; \n              align-items: center; \n              justify-content: center; \n              height: 100%; \n            } \n          "})}).catch(e=>{console.error("Failed to load printJS:",e)})},tU=e=>{tt(e),0===e?(J(""),G(""),Y(""),Q(""),et(""),eZ(!1),eV(""),B(e=>({...e,tnc:0})),eu(0),ti({oldIMEI:"",newIMEI:""}),$(""),ey([]),eU(0),eR(0),e5({}),eW(!0)):1===e?(ti({oldIMEI:"",newIMEI:""}),$(""),ey([]),eU(0),eR(0),e5({}),eW(!0)):2===e&&(e5({}),eW(!0))},tL=async e=>{try{let t=await fetch("".concat(i,"/get-executive-by-staff?staff_id=").concat(e),{headers:{Authorization:tb}});if(!t.ok)throw Error("Could not get executive list");let a=await t.json();if("success"!==a.status)throw Error(a.message);th(a.data)}catch(e){I.Am.error(e.message)}};return k?(0,s.jsx)("div",{className:"w-screen h-screen flex justify-center  bg-white mt-40",children:(0,s.jsx)(h.Z,{color:"#42c8b7",loading:k,size:40,"aria-label":"Loading Spinner","data-testid":"loader"})}):M?(0,s.jsx)("div",{className:"w-screen h-screen flex justify-center  bg-white mt-40",children:(0,s.jsxs)("p",{className:"text-red-500",children:["Error: ",M]})}):o?(0,s.jsxs)("div",{className:"bg-white",children:[(0,s.jsx)(c(),{children:(0,s.jsx)("title",{children:"BuyBack - Sell your old ".concat(p," ").concat(U.name)})}),(0,s.jsx)("div",{className:"min-h-screen mb-8 mt-20 lg:mt-0 flex",children:(0,s.jsx)("div",{className:"w-screen justify-center px-4 flex",children:(0,s.jsxs)("div",{className:"max-w-screen-xl w-full grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col shadow-lg min-h-[300px] col-span-2 rounded-lg p-4 bg-white",children:[(0,s.jsxs)("div",{className:"w-full flex flex-col items-start mb-4",children:[(0,s.jsx)("p",{className:"text-xl font-semibold",children:"Tell us more about your device"}),(0,s.jsx)("p",{className:"text-gray-500 text-md font-semibold",children:"Please answer a few questions about your device."})]}),(0,s.jsx)("ol",{className:"space-y-8",children:q.map((e,t)=>(0,s.jsxs)("li",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"text-lg font-semibold",children:[(0,s.jsxs)("span",{className:"me-2",children:[t+1,"."]}),eD&&eq.has(e.question_id)&&(0,s.jsx)("span",{className:"border-l-4 border-red-500 rounded-l ps-2"}),e.description,1===e.set_base_value&&(0,s.jsx)("span",{className:"text-red-500",children:"*"}),eD&&eq.has(e.question_id)&&(0,s.jsx)("span",{className:"text-red-500 text-sm font-thin",children:"This is a required question"})]}),"binary"===e.question_type&&(0,s.jsx)("fieldset",{className:"mt-2 gap-x-2 grid grid-cols-2 md:grid-cols-2",children:e.options.map((t,a)=>(0,s.jsxs)("label",{id:"label-".concat(t.id),className:"bg-gray-100 ms-2 ps-2 md:ps-8 mb-3 py-1 rounded custom-radio border cursor-pointer",onClick:()=>t_(e.question_id,t.id),children:[(0,s.jsx)("input",{type:"checkbox",name:"question-".concat(e.question_id),checked:O[e.question_id]===t.id,onChange:()=>tj(e.question_id,t.id),value:t.id,className:"hidden"}),(0,s.jsx)("span",{className:"radio-custom"}),(0,s.jsx)("span",{className:"ms-3 flex items-start justify-center flex-col w-full",children:t.option_value})]},t.id))}),"select"===e.question_type&&(0,s.jsx)("fieldset",{className:"mt-2 space-x-2 grid grid-cols-1 md:grid-cols-2",children:e.options.map((t,a)=>(0,s.jsxs)("label",{id:"label-".concat(t.id),className:"bg-gray-100 ms-2 ps-8 mb-3  py-1 rounded custom-checkbox border cursor-pointer",onClick:()=>t_(e.question_id,t.id),children:[(0,s.jsx)(g.K,{color:"success",radius:"sm",isSelected:O[e.question_id]===t.id,onValueChange:()=>tj(e.question_id,t.id),onClick:()=>t_(e.question_id,t.id),className:"text-white"}),(0,s.jsxs)("span",{className:"ms-3 flex items-start justify-center flex-col w-full",children:[t.s3_image_url&&(0,s.jsx)(d(),{src:t.s3_image_url,width:100,height:100,alt:"Option image"}),t.option_value]})]},t.id))}),"multiselect"===e.question_type&&(0,s.jsx)("fieldset",{className:"mt-2 space-x-2 grid grid-cols-1 md:grid-cols-2",children:e.options.map(t=>{var a;return(0,s.jsxs)("label",{id:"label-".concat(t.id),className:"bg-gray-100 ms-2 ps-8 mb-3  py-1 rounded custom-checkbox border cursor-pointer",onClick:()=>t_(e.question_id,t.id),children:[(0,s.jsx)(g.K,{color:"success",radius:"sm",isSelected:null===(a=O[e.question_id])||void 0===a?void 0:a.includes(t.id),onValueChange:()=>{let a=O[e.question_id]||[],s=a.includes(t.id)?a.filter(e=>e!==t.id):[...a,t.id];B(t=>({...t,[e.question_id]:s}))},onClick:()=>t_(e.question_id,t.id),className:"text-white"}),(0,s.jsxs)("span",{className:"ms-3 flex items-start justify-center flex-col w-full",children:[t.s3_image_url&&(0,s.jsx)(d(),{src:t.s3_image_url,width:100,height:100,alt:"Option image"}),t.option_value]})]},t.id)})})]},e.question_id))}),eD&&(0,s.jsx)("p",{className:"text-red-500 font-semibold mb-4",children:eD}),(0,s.jsx)("button",{className:"rounded px-4 py-1 mt-2 bg-accent text-white disabled:bg-gray-300 disabled:hover:bg-gray-300 disabled:text-black",onClick:()=>{eS&&tS(t[1])},disabled:!eS,children:"Get exact value"})]}),(0,s.jsxs)("div",{className:"flex flex-col shadow-lg min-h-[300px] col-span-1 rounded-lg p-4 bg-white sticky top-20 max-h-[800px] overflow-y-scroll scrollbar-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(d(),{src:(null==o?void 0:o.image_url)||"/refurbished.webp",height:75,width:75,alt:(null==o?void 0:o.name)||"Product Image"}),(0,s.jsx)("span",{className:" lg:ms-4 text-xl",children:U.name})]}),(0,s.jsx)("hr",{className:"my-4"}),(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("span",{className:"text-xl font-semibold",children:"Device Appraisal:"})}),(0,s.jsx)("div",{children:(0,s.jsx)(r,{journeyData:e_})})]})]})})}),(0,s.jsx)(b.R,{isOpen:e6,onOpenChange:e9,isDismissable:!1,isKeyboardDismissDisabled:!0,size:"3xl",radius:"sm",classNames:{closeButton:"hidden"},scrollBehavior:"inside",children:(0,s.jsx)(y.A,{children:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.k,{className:"flex flex-col gap-1",children:"Generate Order"}),(0,s.jsxs)(w.I,{children:[(0,s.jsxs)(A.v,{activeStep:te,className:"w-full py-4 mt-0 sticky -top-2 border shadow z-20 bg-white",connectorStyleConfig:{size:2,style:"dashed"},styleConfig:{activeBgColor:"#42c8b7",completedBgColor:"#319488"},children:[(0,s.jsx)(A.h,{onClick:()=>tU(0),label:"Confirm Price",completed:tl.price,active:ta.price}),(0,s.jsx)(A.h,{onClick:()=>tU(1),label:"Customer Verification",completed:tl.verification&&!(te<1),active:ta.verification,disabled:te<1}),(0,s.jsx)(A.h,{onClick:()=>tU(2),label:"Phone Details",completed:tl.phoneDetails&&!(te<2),active:ta.phoneDetails,disabled:te<2}),(0,s.jsx)(A.h,{onClick:()=>tU(3),label:"Indemnity Bond",completed:tl.indemnity&&!(te<3),active:ta.indemnity,disabled:te<3})]}),0===te&&(0,s.jsx)("div",{className:"w-full h-full md:h-fit bg-white pb-4 pt-1 relative flex flex-col justify-between",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"border border-gray-300 p-2 pb-4",children:[(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsxs)("span",{className:"text-xl font-bold accent",children:["Exact Value of ",U.name]})}),(0,s.jsx)("div",{className:"w-full flex flex-col justify-between ".concat(e1.has_cashback&&"yes"===O.exchange?" py-8":"py-3"),children:(0,s.jsx)("div",{className:"text-lg ",children:e1.has_cashback&&"yes"===O.exchange?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"flex justify-between w-full gap-x-4  text-base",children:[(0,s.jsx)("span",{children:"Actual Value:"}),(0,s.jsx)("span",{children:(0,N.fK)(R)})]}),(0,s.jsxs)("p",{className:"flex justify-between w-full gap-x-4 text-base",children:[(0,s.jsx)("span",{children:"Cashback: "}),(0,s.jsxs)("span",{children:["+"," ","yes"===O.exchange?(0,N.fK)(e1.cashback):(0,N.fK)(0)]})]}),(0,s.jsxs)("p",{className:"flex justify-between w-full gap-x-8 border-t border-gray-300 text-2xl mt-2",children:[(0,s.jsx)("span",{children:"Total Price: "}),(0,s.jsx)("span",{className:"font-bold accent",children:"yes"===O.exchange?(0,N.fK)(R+e1.cashback):(0,N.fK)(R)})]})]}):(0,s.jsx)("p",{className:"flex justify-center w-full gap-x-8 border-gray-300 text-2xl mt-2",children:(0,s.jsx)("span",{className:"font-bold",children:(0,N.fK)(R)})})})}),(0,s.jsx)("div",{className:"w-full flex flex-col items-center justify-end",children:(0,s.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"w-full grid gap-y-0.5 relative",children:[e1.has_cashback&&(0,s.jsxs)(g.K,{radius:"none",color:"success",classNames:{icon:"text-white",wrapper:"rounded"},isSelected:"yes"===O.exchange,onChange:()=>tj("exchange","yes"),isRequired:!0,children:["Apply for cashback",(0,s.jsx)("span",{className:"text-red-400",children:"*"})]}),(!e1.has_cashback||"yes"===O.exchange)&&(0,s.jsxs)(g.K,{radius:"none",color:"success",classNames:{icon:"text-white",wrapper:"rounded",base:"relative"},isSelected:"yes"===O.satisfied,onChange:()=>tj("satisfied","yes"),isRequired:!0,children:["The customer is satisfied with the price displayed",(0,s.jsx)("span",{className:"text-red-400",children:"*"}),!el&&(0,s.jsx)("span",{className:"block absolute text-red-500 -bottom-4 text-sm",children:"Please check above checkbox"})]})]})})]}),(0,s.jsxs)("div",{className:"w-full mt-5 flex justify-end gap-x-2 mb-4",children:[(0,s.jsx)(v.A,{radius:"sm",color:"danger",variant:"light",onPress:()=>{e(),ty(),tO()},className:"rounded",children:"Cancel"}),(!e1.has_cashback||"yes"===O.exchange)&&(0,s.jsx)(v.A,{radius:"sm",color:"success",onPress:()=>{"yes"===O.satisfied?(tt(e=>e+1),tr(e=>({...e,price:!0})),ts(e=>({...e,verification:!0}))):er(!1)},className:"text-white rounded",disabled:"yes"!==O.exchange,children:"Continue with verification"})]})]})}),1===te&&(0,s.jsxs)("div",{className:"w-full h-full bg-white px-2 md:px-4 pb-4 pt-1 border border-gray-300 mb-4 relative grid grid-cols-1 lg:grid-cols-2 z-20 lg:grid-rows-none lg:space-x-2 lg:space-y-2",children:[(0,s.jsx)("span",{className:"text-2xl accent mb-3 lg:col-span-2 flex justify center",children:(0,s.jsx)("span",{className:"text-center w-full",children:"Customer Verification"})}),(0,s.jsxs)("span",{className:"w-full flex flex-col lg:px-2",children:[(0,s.jsxs)("span",{children:["First Name",(0,s.jsx)("span",{className:"text-red-500 ",children:"*"})]}),(0,s.jsx)("input",{type:"text",required:!0,className:"py-1 ps-3 pe-8 outline-none bg-transparent border rounded mt-0.5 lg:mt-0",spellCheck:!1,value:Z,onChange:e=>J(e.target.value)})]}),(0,s.jsxs)("span",{className:"w-full flex flex-col lg:px-2",children:[(0,s.jsxs)("span",{children:["Last Name",(0,s.jsx)("span",{className:"text-red-500 ",children:"*"})]}),(0,s.jsx)("input",{type:"text",required:!0,className:"py-1 ps-3 pe-8 outline-none bg-transparent border rounded mt-0.5 lg:mt-0",spellCheck:!1,value:V,onChange:e=>G(e.target.value)})]}),(0,s.jsxs)("span",{className:" w-full flex flex-col lg:px-2",children:[(0,s.jsxs)("span",{children:["Email",(0,s.jsx)("span",{className:"text-red-500 ",children:"*"})]}),(0,s.jsx)("input",{type:"email",required:!0,className:"py-1 ps-3 pe-8 outline-none bg-transparent border rounded mt-0.5 lg:mt-0",spellCheck:!1,value:H,onChange:e=>Y(e.target.value)}),(0,s.jsx)("p",{className:"".concat(ej.length>0?"visible":"invisible"," block text-red-500 text-sm lg:text-md"),children:ej})]}),(0,s.jsxs)("span",{className:"w-full flex flex-col lg:px-2 ",children:[(0,s.jsxs)("span",{children:["Phone",(0,s.jsx)("span",{className:"text-red-500 ",children:"*"})]}),(0,s.jsx)("input",{required:!0,type:"number",maxLength:10,className:"py-1 ps-3 pe-8 outline-none bg-transparent border rounded mt-0.5 lg:mt-0",spellCheck:!1,value:X,onChange:e=>Q(e.target.value),onKeyDown:e=>{("ArrowUp"===e.key||"ArrowDown"===e.key)&&e.preventDefault()}})]}),!eK&&(0,s.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2",children:[(0,s.jsx)("span",{className:"w-full lg:col-span-2",children:(0,s.jsxs)("div",{className:"block w-fit ml-auto",children:[(0,s.jsx)(v.A,{variant:"light",className:"text-xs accent  disabled:text-gray-400 rounded",disabled:em||ex||10!==X.length||Z.length<3||H.length<5,onClick:()=>{(!em||ex)&&(tk(),eu(60),eh(!0))},children:em?"Resend OTP (".concat(Math.floor(ed/60),":").concat(ed%60,")"):"Resend OTP"}),(0,s.jsx)(v.A,{className:"px-3 ms-4 rounded bg-accent text-white disabled:bg-gray-300 disabled:hover:bg-gray-300 ring-accent",disabled:10!==X.length||Z.length<3||H.length<5||!ex,onClick:()=>{tk()},children:"Send OTP"})]})}),ea&&(0,s.jsxs)("div",{className:"w-full lg:col-span-2 mt-2",children:["OTP",(0,s.jsx)(m.Z,{value:ee,onChange:et,numInputs:6,renderSeparator:(0,s.jsx)("span",{children:"\xa0"}),inputStyle:"border rounded px-1 w-8 outline-none",renderInput:e=>(0,s.jsx)("input",{...e})}),(0,s.jsx)("span",{className:"".concat(ec?"visible":"invisible"," text-red-500 text-sm"),children:"Incorrect OTP"})]}),(0,s.jsx)("span",{className:" lg:col-span-2 ",children:ea&&(0,s.jsx)(v.A,{className:"px-3 py-1 rounded bg-accent  text-white lg:col-span-2 disabled:bg-gray-300 block ml-auto",onClick:()=>{tC()},disabled:6!==ee.length,children:"Confirm OTP"})})]}),eK&&(0,s.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2",children:[(0,s.jsx)("span",{onClick:()=>{tj("tnc",1),1!==O.tnc?(tE(),eX(!0)):eX(!1)},children:(0,s.jsx)(g.K,{radius:"none",color:"success",classNames:{icon:"text-white",wrapper:"rounded",base:"my-0.5"},isSelected:1===O.tnc,onChange:()=>{tj("tnc",1),1!==O.tnc?(tE(),eX(!0)):eX(!1)},isRequired:!0,children:(0,s.jsxs)("div",{children:["Accept"," ",(0,s.jsx)("a",{href:"http://",target:"_blank",rel:"noopener noreferrer",className:"inline accent",children:"Terms and Conditions"})]})})}),eY&&(0,s.jsxs)("span",{className:"} lg:col-span-2 grid grid-cols-1 lg:grid-cols-2",children:[(0,s.jsxs)("span",{className:"w-full lg:col-span-2 flex flex-col ",children:["OTP Again",(0,s.jsx)(m.Z,{value:eJ,onChange:eV,numInputs:6,renderSeparator:(0,s.jsx)("span",{children:"\xa0"}),inputStyle:"border rounded px-1 w-8 outline-none",renderInput:e=>(0,s.jsx)("input",{...e})}),(0,s.jsx)("span",{className:"".concat(eG?"visible":"invisible"," text-red-500 text-sm"),children:"Wrong OTP"})]}),(0,s.jsx)("span",{className:"lg:col-span-2",children:(0,s.jsx)(v.A,{className:"block ml-auto px-3 py-1 rounded bg-accent text-white lg:col-span-2 disabled:bg-gray-300 ",onClick:()=>{tA()},disabled:6!==eJ.length,children:"Confirm OTP Again"})})]})]})]}),2===te&&(0,s.jsxs)("div",{className:"w-full max-h-full bg-white px-2 md:px-4 pb-4 pt-1 relative mb-10 flex flex-col items-start justify-start border",children:[(0,s.jsx)("span",{className:"text-2xl accent mb-3",children:"Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 lg:gap-x-2 gap-y-2 w-full",children:[(0,s.jsxs)("div",{className:"w-full flex flex-col relative ",children:[(0,s.jsxs)("span",{children:["Old IMEI ",(0,s.jsx)("span",{className:"text-red-500 ",children:"*"})]}),(0,s.jsx)("input",{type:"number",name:"oldIMEI",value:tn.oldIMEI,onChange:e=>tD(e),className:"py-1 ps-3 pe-8 outline-none bg-transparent border rounded ".concat(tc.oldIMEI?"border-red-300":""),maxLength:15}),tc.oldIMEI&&(0,s.jsx)("span",{className:"text-red-500 relative top-0.5 text-xs",children:tc.oldIMEI})]}),(0,s.jsxs)("div",{className:"w-full flex flex-col relative",children:[(0,s.jsxs)("span",{children:["New IMEI ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"number",name:"newIMEI",value:tn.newIMEI,onChange:e=>tD(e),className:"py-1 ps-3 pe-8 outline-none bg-transparent border rounded ".concat(tc.newIMEI?"border-red-300":""),maxLength:15}),tc.newIMEI&&(0,s.jsx)("span",{className:"text-red-500 relative top-0.5 text-xs",children:tc.newIMEI})]})]}),(0,s.jsxs)("div",{className:"w-full flex flex-col items-center border border-gray-300 py-2 mt-2",children:[(0,s.jsx)("span",{className:"text-lg font-semibold",children:"Upload User Documents"}),(0,s.jsx)("div",{className:"w-full flex justify-center",children:(0,s.jsxs)("span",{className:"grid grid-cols-2 w-2/3 items-center mt-2 h-full space-x-1",children:[(0,s.jsxs)("span",{className:"h-full w-full flex flex-col ",children:[(0,s.jsxs)("span",{className:"text-center",children:["Front Aadhar"," ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("span",{className:"h-40 max-h-[190px] w-full border-2 border-dashed border-gray-400 overflow-hidden",children:(0,s.jsx)(n.Z,{maxNumber:1,folderName:ef,s3imageUrlArray:eb,setS3imageUrlArray:ey,tag:"front_aadhar",imageName:eO,setImageName:eB,setAadharCount:eU,aadharCount:eF})})]}),(0,s.jsxs)("span",{className:"h-full w-full flex flex-col",children:[(0,s.jsxs)("span",{className:"text-center",children:["Back Aadhar"," ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("span",{className:"h-40 max-h-[190px] w-full border-2 border-dashed border-gray-400 overflow-hidden",children:(0,s.jsx)(n.Z,{maxNumber:1,folderName:ef,s3imageUrlArray:eb,setS3imageUrlArray:ey,tag:"back_aadhar",imageName:eO,setImageName:eB,setAadharCount:eU,aadharCount:eF})})]})]})})]}),(0,s.jsxs)("div",{className:"w-full flex flex-col items-center border border-gray-300 py-2 mt-2",children:[(0,s.jsx)("span",{className:"text-lg font-semibold",children:"Upload Invoice"}),(0,s.jsx)("div",{className:"w-full flex justify-center",children:(0,s.jsxs)("span",{className:"grid grid-cols-2 w-2/3 items-center mt-2 h-full space-x-1",children:[(0,s.jsxs)("span",{className:"h-full w-full flex flex-col ",children:[(0,s.jsx)("span",{className:"text-center",children:"Invoice Front"}),(0,s.jsx)("span",{className:"h-40 max-h-[150px] w-full border-2 border-dashed border-gray-400 overflow-hidden",children:(0,s.jsx)(n.Z,{maxNumber:1,folderName:ef,s3imageUrlArray:eb,setS3imageUrlArray:ey,tag:"front_invoice",imageName:eO,setImageName:eB})})]}),(0,s.jsxs)("span",{className:"h-full w-full flex flex-col",children:[(0,s.jsx)("span",{className:"text-center",children:"Invoice Back"}),(0,s.jsx)("span",{className:"h-40 max-h-[150px] w-full border-2 border-dashed border-gray-400 overflow-hidden",children:(0,s.jsx)(n.Z,{maxNumber:1,folderName:ef,s3imageUrlArray:eb,setS3imageUrlArray:ey,tag:"back_invoice",imageName:eO,setImageName:eB})})]})]})})]}),(0,s.jsxs)("div",{className:"w-full flex flex-col items-center border border-gray-300 pt-2 pb-5 px-2 mt-2",children:[(0,s.jsx)("span",{className:"text-lg font-semibold",children:"Upload Photos of Mobile"}),(0,s.jsx)("div",{className:"w-full flex justify-center",children:(0,s.jsx)("span",{className:"grid grid-cols-3 w-full  mt-2 h-full space-x-1",children:["Top","Bottom","Left","Right","Front","Back"].map(e=>(0,s.jsxs)("span",{className:"flex flex-col ",children:[(0,s.jsxs)("span",{className:"text-center",children:[e," ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("span",{className:"h-40 w-full border-2 border-dashed border-gray-400 overflow-hidden",children:(0,s.jsx)(n.Z,{maxNumber:1,folderName:ef,s3imageUrlArray:eb,setS3imageUrlArray:ey,tag:e,imageName:eO,setImageName:eB,phoneCount:eL,setPhoneCount:eR})})]},e))})})]}),(0,s.jsx)("div",{className:"w-full flex justify-end items-center",children:(0,s.jsx)(v.A,{className:"bg-accent py-1 px-3 rounded text-white mt-3 disabled:bg-gray-400 disabled:hover:bg-gray-400",disabled:eF<2||eL<6,onClick:tq,children:"Submit"})})]}),3===te&&(0,s.jsxs)("div",{className:"w-full bg-white px-4 pb-4 pt-1 border border-gray-300 relative mb-10 flex flex-col items-start justify-start",children:[(0,s.jsx)("span",{className:"text-2xl accent mb-3",children:"Exchange/Sell"}),(0,s.jsxs)("div",{className:"grid gap-x-4 gap-y-2 w-full",children:[(0,s.jsxs)("div",{className:"w-full flex flex-col relative",children:[(0,s.jsxs)("span",{children:["Executive:"," ","true"===tx&&(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),"false"===tx&&(0,s.jsx)("input",{value:W,className:"py-1 ps-3 pe-8 outline-none border rounded bg-gray-100 capitalize",onChange:()=>null}),"true"===tx&&(0,s.jsxs)("select",{name:"execName",id:"execName",className:"py-1 ps-3 pe-8 outline-none border rounded",value:tf,onChange:e=>tg(e.target.value),children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Select an executive"}),tm.map((e,t)=>(0,s.jsx)("option",{value:null==e?void 0:e.executive_id,className:"capitalize",children:null==e?void 0:e.name},t))]}),td&&(0,s.jsx)("span",{className:"text-red-500 relative top-0.5 text-xs",children:td})]}),(0,s.jsx)("div",{className:"relative flex gap-x-3 items-center",children:(0,s.jsx)(g.K,{radius:"none",color:"success",classNames:{icon:"text-white",wrapper:"rounded"},isSelected:eQ,onValueChange:eW,children:"Do you wish to exchange your device for another device?"})}),(0,s.jsx)(_,{buyerData:e$}),(0,s.jsx)("p",{className:"text-lg mt-2",children:"Upload Signed Indemnity Bond"}),(0,s.jsx)("div",{className:"border-2 border-dashed relative h-60 grid place-items-center overflow-scroll scrollbar-hidden mb-4",children:(0,s.jsx)(C,{maxNumber:1,s3imageUrlArray:e3,setS3imageUrlArray:e5,tag:"indemnityBond",imageName:e4,setImageName:e8})}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("button",{className:"block ms-auto px-4 py-2 rounded bg-accent text-white",onClick:()=>tz(e),children:"Submit"})})]})]})]})]})})}),ev&&(0,s.jsx)("div",{className:"flex w-screen h-screen fixed top-0 right-0 z-50 overflow-hidden backdrop-blur-sm justify-center items-center bg-black bg-opacity-50",children:(0,s.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"w-full md:w-[500px] h-auto bg-white px-6 md:px-10 py-10 rounded-lg relative shadow-xl flex flex-col items-center justify-center animate-fade-in",children:[(0,s.jsx)("span",{className:"absolute top-4 right-4 text-red-500 cursor-pointer ",onClick:()=>{e.push("/")},children:(0,s.jsx)("i",{className:"bi bi-x-lg text-2xl"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("i",{className:"bi bi-check-circle text-green-500 text-5xl mb-4"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-800",children:"Order Created Successfully"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2 text-center",children:"Your order has been created successfully."})]})]})})]}):(0,s.jsx)("div",{className:"w-screen min-h-screen flex justify-center items-center",children:(0,s.jsx)("p",{children:"No product data available"})})}},8386:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(7294),l=function(e){return"object"==typeof e&&null!==e},r=function(e){var t=e.value,a=void 0===t?"":t,r=e.numInputs,n=void 0===r?4:r,i=e.onChange,c=e.onPaste,o=e.renderInput,d=e.shouldAutoFocus,u=void 0!==d&&d,m=e.inputType,h=void 0===m?"text":m,x=e.renderSeparator,p=e.placeholder,f=e.containerStyle,g=e.inputStyle,b=e.skipDefaultStyles,y=void 0!==b&&b,j=s.useState(0),w=j[0],v=j[1],N=s.useRef([]),_=function(){return a?a.toString().split(""):[]},I="number"===h||"tel"===h;s.useEffect(function(){N.current=N.current.slice(0,n)},[n]),s.useEffect(function(){var e;u&&(null===(e=N.current[0])||void 0===e||e.focus())},[u]);var S=function(){if("string"==typeof p){if(p.length===n)return p;p.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},k=function(e){return(I?!isNaN(Number(e)):"string"==typeof e)&&1===e.trim().length},E=function(e){var t=e.target.value;k(t)&&(T(t),D(w+1))},C=function(e){var t=e.nativeEvent,a=e.target.value;k(a)||(a.length!==n||a.split("").some(function(e){return!k(e)})||(q(a.split("")),D(n-1)),null===t.data&&"deleteContentBackward"===t.inputType&&(e.preventDefault(),T(""),D(w-1)),e.target.value="")},A=function(){v(w-1)},M=function(e){var t=_();[e.code,e.key].includes("Backspace")?(e.preventDefault(),T(""),D(w-1)):"Delete"===e.code?(e.preventDefault(),T("")):"ArrowLeft"===e.code?(e.preventDefault(),D(w-1)):"ArrowRight"===e.code?(e.preventDefault(),D(w+1)):e.key===t[w]?(e.preventDefault(),D(w+1)):("Spacebar"===e.code||"Space"===e.code||"ArrowUp"===e.code||"ArrowDown"===e.code)&&e.preventDefault()},D=function(e){var t,a,s=Math.max(Math.min(n-1,e),0);N.current[s]&&(null===(t=N.current[s])||void 0===t||t.focus(),null===(a=N.current[s])||void 0===a||a.select(),v(s))},T=function(e){var t=_();t[w]=e[0],q(t)},q=function(e){i(e.join(""))},P=function(e){e.preventDefault();var t,a=_(),s=w,l=e.clipboardData.getData("text/plain").slice(0,n-w).split("");if(!(I&&l.some(function(e){return isNaN(Number(e))}))){for(var r=0;r<n;++r)r>=w&&l.length>0&&(a[r]=null!==(t=l.shift())&&void 0!==t?t:"",s++);D(s),q(a)}};return s.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},l(f)&&f),className:"string"==typeof f?f:void 0,onPaste:c},Array.from({length:n},function(e,t){return t}).map(function(e){var t,a,r;return s.createElement(s.Fragment,{key:e},o({value:null!==(t=_()[e])&&void 0!==t?t:"",placeholder:null!==(r=null===(a=S())||void 0===a?void 0:a[e])&&void 0!==r?r:void 0,ref:function(t){return N.current[e]=t},onChange:E,onFocus:function(t){v(e),t.target.select()},onBlur:A,onKeyDown:M,onPaste:P,autoComplete:"off","aria-label":"Please enter OTP character ".concat(e+1),style:Object.assign(y?{}:{width:"1em",textAlign:"center"},l(g)?g:{}),className:"string"==typeof g?g:void 0,type:h,inputMode:I?"numeric":"text",onInput:C},e),e<n-1&&("function"==typeof x?x(e):x))}))}}},function(e){e.O(0,[23,136,835,562,260,242,620,678,253,427,888,774,179],function(){return e(e.s=597)}),_N_E=e.O()}]);