(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{4009:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/shipments/create-shipment/[[...shipmentID]]",function(){return s(4519)}])},4133:function(e,t,s){"use strict";var r=s(5893);s(7294);var a=s(4039);t.Z=e=>{let{header:t,...s}=e;return(0,r.jsx)(a.Q,{...s,header:e=>{let{state:{isEnter:s}}=e;return(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)("i",{className:"bi bi-chevron-down ml-auto transition-transform duration-200 ease-out flex items-center ".concat(s&&"rotate-180")})]})},className:"border-b",buttonProps:{className:e=>{let{isEnter:t}=e;return"flex items-center w-full p-4 text-left hover:bg-[#42c8b725] ".concat(t&&"bg-[#42c8b725]")}},contentProps:{className:"transition-height duration-200 ease-out"},panelProps:{className:"p-4"}})}},2115:function(e,t,s){"use strict";var r=s(5893);s(7294),t.Z=e=>{let{itemsPerPage:t,setItemsPerPage:s,currentPage:a,setCurrentPage:n,totalEntries:i,totalPages:l}=e;return(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center pt-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("label",{htmlFor:"items",className:"text-sm",children:"Items per page:"}),(0,r.jsx)("select",{id:"items",className:"border border-gray-300 rounded-md py-1 px-2 outline-none",value:t,onChange:e=>{s(parseInt(e.target.value,10)),n(1)},children:[15,20,25,30,35].map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-3 md:mt-0",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:[t*a-t+1," to"," ",t*a<i?t*a:i," ","of ",i]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("button",{onClick:()=>n(1),disabled:1===a,className:"p-2 rounded-full ".concat(a>1?"text-accent":"text-gray-400"),children:(0,r.jsx)("i",{className:"bi bi-chevron-bar-left text-lg"})}),(0,r.jsx)("button",{onClick:()=>n(e=>e>1?e-1:e),disabled:1===a,className:"p-2 rounded-full ".concat(a>1?"text-accent":"text-gray-400"),children:(0,r.jsx)("i",{className:"bi bi-chevron-left text-lg"})}),(0,r.jsx)("button",{onClick:()=>n(e=>e<l?e+1:e),disabled:a===l,className:"p-2 rounded-full ".concat(a<l?"text-accent":"text-gray-400"),children:(0,r.jsx)("i",{className:"bi bi-chevron-right text-lg"})}),(0,r.jsx)("button",{onClick:()=>n(l),disabled:a===l,className:"p-2 rounded-full ".concat(a<l?"text-accent":"text-gray-400"),children:(0,r.jsx)("i",{className:"bi bi-chevron-bar-right text-lg"})})]})]})]})}},4519:function(e,t,s){"use strict";s.r(t);var r=s(5893),a=s(4133),n=s(2115),i=s(5066),l=s(7957),c=s(843),o=s(3053),d=s(1680),m=s(199),h=s(7740),x=s(6597),u=s(5612),p=s(1163),b=s(7294),g=s(5152),f=s.n(g),y=s(9134);let j=f()(()=>s.e(802).then(s.bind(s,2802)),{loadableGenerated:{webpack:()=>[2802]},ssr:!1});t.default=()=>{let e="https://buybackservice.unicornstore.in",t=(0,p.useRouter)(),{shipmentID:s}=t.query,[g,f]=(0,b.useState)({dateFrom:"",dateTo:"",priceFrom:"",priceTo:"",brands:[],location:""}),[N,w]=(0,b.useState)({weight:"",dimensions:"",location:"",deliveryPartner:"",warehouse:"",count:"",eway:"",requestedOn:""}),[v,_]=(0,b.useState)([{id:1,Name:""}]),k=(0,b.useRef)(null),[P,S]=(0,b.useState)(null),[C,D]=(0,b.useState)([]),[A,F]=(0,b.useState)({weight:"",dimensions:"",checkbox:"",location:"",warehouse:"",count:"",eway:"",requestedOn:""}),[E,O]=(0,b.useState)([]),[I,T]=(0,b.useState)(!1),[B,W]=(0,b.useState)(!1),[q,U]=(0,b.useState)([]),[L,K]=(0,b.useState)({}),[R,M]=(0,b.useState)(!1),{isOpen:X,onOpen:Z,onOpenChange:H}=(0,l.q)(),[z,V]=(0,b.useState)([]),[G,J]=(0,b.useState)(null),[$,Q]=(0,b.useState)(!1),[Y,ee]=(0,b.useState)(15),[et,es]=(0,b.useState)(null),[er,ea]=(0,b.useState)(1),[en,ei]=(0,b.useState)(null),[el,ec]=(0,b.useState)(!1),eo=async()=>{try{let t=await fetch("".concat(e,"/get-shipment/").concat(s));if(!t.ok)throw Error("Could not get shipment data");let r=await t.json();S(r.shipment_data.orders),w({weight:r.shipment_data.weight_in_kg,dimensions:Object.values(r.shipment_data.box_dimensions).join(" x "),location:"",deliveryPartner:r.shipment_data.shipping_class,warehouse:r.shipment_data.drop_off_warehouse,count:r.shipment_data.box_count||""}),f(e=>({...e,location:r.shipment_data.pickup_location})),r.shipment_data.orders.forEach(e=>D(t=>[...t,e.order_id])),ep(r.shipment_data.pickup_location)}catch(e){y.Am.error(e.message,{toastId:"getShipmentByIDError"})}};(0,b.useEffect)(()=>{t.isReady&&s&&(k.current.click(),eo())},[t,t.isReady]);let ed=e=>{let{name:t,value:r}=e.target;"location"===t&&s||(f(e=>({...e,[t]:r})),F(e=>{let s={...e};return"location"!==t||r.trim()?"location"===t&&(s.location=""):s.location="Select a location",s}))},em=e=>{let{name:t,value:s}=e.target;w({...N,[t]:s}),F(e=>{let r={...e};return"weight"===t&&(!s.trim()||s<0)?r.weight="Weight must be a positive number":"weight"===t&&(r.weight=""),"dimensions"!==t||s.trim()&&/^\d+(\.\d+)?\s*x\s*\d+(\.\d+)?\s*x\s*\d+(\.\d+)?$/.test(N.dimensions)?"dimensions"===t&&(r.dimensions=""):r.dimensions="Dimensions must be in the format: Length x Width x Height","deliveryPartner"===t&&(!s.trim()||s<0)?r.deliveryPartner="Delivery partner is required":"deliveryPartner"===t&&(r.deliveryPartner=""),"warehouse"===t&&(!s.trim()||s<0)?r.warehouse="Warehouse is required":"warehouse"===t&&(r.warehouse=""),"count"===t&&(!s.trim()||s<0)?r.count="Number Of Box Pieces is required":"count"===t&&(r.count=""),"eway"===t&&(!s.trim()||s<0)?r.eway="E-Way bill number is required":"eway"===t&&(r.eway=""),r})},eh=()=>{let e={};return(!N.weight||""===N.weight.trim()||N.weight<=0)&&(e.weight="Weight must be a positive number"),/^\d+(\.\d+)?\s*x\s*\d+(\.\d+)?\s*x\s*\d+(\.\d+)?$/.test(N.dimensions)||(e.dimensions="Dimensions must be in the format: Length x Width x Height"),N.dimensions.trim()||(e.dimensions="Dimensions is required"),N.deliveryPartner.trim()||(e.deliveryPartner="Delivery partner is required"),N.warehouse.trim()||(e.warehouse="Warehosue is required"),N.count.trim()||(e.count="Number Of Box Pieces is required"),N.eway.trim()||(e.eway="E-Way bill number is required"),F(e),0===Object.keys(e).length},ex=e=>{_(v.filter(t=>t.id!==e))},eu=(e,t,s)=>{_(v.map(r=>r.id===e?{...r,[t]:s}:r))},ep=async t=>{W(!0);try{T(!0);let r=localStorage.getItem("staff_id"),a=await fetch("".concat(e,"/get-orders-for-shipment/?page=").concat(er,"&per_page=").concat(Y,"&staff_id=").concat(r,"&location_id=").concat(t,"&").concat(v[0].Name.length>0&&v.map(e=>e.Name).map(e=>"brand=".concat(e)).join("&")).concat(g.dateFrom&&"&date_from=".concat(g.dateFrom+"T00:00:00.000Z")).concat(g.dateTo&&"&date_to=".concat(g.dateTo+"T00:00:00.000Z")).concat(g.priceFrom&&"&price_from=".concat(g.priceFrom)).concat(g.priceTo&&"&price_to=".concat(g.priceTo)));if(!a.ok)throw Error("Could not get orders");let n=await a.json();s?S(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Set(e.map(e=>e.order_id)),s=n.data.filter(e=>!t.has(e.order_id));return[...e,...s]}):(S(n.data),J(n.data.filter(e=>!C.includes(e.order_id))),ei(n.total_count),es(Math.ceil(n.total_count/Y)))}catch(e){y.Am.error(e.message,{toastId:"getOrderDataResError"})}finally{setTimeout(()=>{T(!1)},600)}};(0,b.useEffect)(()=>{t.isReady&&ey()},[t,t.isReady]);let eb=e=>{let t;D(t=C.includes(e)?C.filter(t=>t!==e):[...C,e]),J(()=>P.filter(e=>!t.includes(e.order_id))),V(()=>P.filter(e=>t.includes(e.order_id))),0===t.length?F(e=>({...e,checkbox:"Please select at least one order."})):F(e=>({...e,checkbox:""}))},eg=async()=>{if(0===C.length){eh(),F(e=>({...e,checkbox:"Please select at least one order."}));return}if(eh())try{ec(!0);let s=await fetch("".concat(e,"/create-shipment-package?staff_id=1"),{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({pickup_location_id:g.location,warehouse_id:N.warehouse,shipping_class:N.deliveryPartner,orders:C,weight_in_kg:N.weight,box_dimensions:{length:N.dimensions.split("x")[0].trim(),width:N.dimensions.split("x")[1].trim(),height:N.dimensions.split("x")[2].trim()},pieces:N.count,eway_bill_no:N.eway,pickup_datetime:N.requestedOn})});if(!s.ok)throw Error("Could not submit shipment");let r=await s.json();if("success"!==r.status)throw Error(r.message);y.Am.success("Shipment submitted successfully",{toastId:"submitShipmentSuccess"}),S([]),ep(g.location),t.push("/dashboard/shipments")}catch(e){y.Am.error(e.message,{toastId:"SubmitShipmentError"})}finally{ec(!1)}},ef=async()=>{try{let r=await fetch("".concat(e,"/update-shipment?shipment_id=").concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({shipping_class:N.deliveryPartner,weight_in_kg:N.weight,box_dimensions:{length:N.dimensions.split("x")[0].trim(),width:N.dimensions.split("x")[1].trim(),height:N.dimensions.split("x")[2].trim()},new_orders:C,pieces:N.count,eway_bill_no:N.eway})});if(!r.ok)throw Error("Could not update shipment");let a=await r.json();"success"===a.status&&(y.Am.success("Shipment Updated successfully",{toastId:"shipmentUpdateToast"}),S([]),ep(g.location),t.push("/dashboard/shipments"))}catch(e){y.Am.error(e.message,{toastId:"UpdateShipmentError"})}},ey=async()=>{try{let t=await fetch("".concat(e,"/get-staff-locations?staff_id=").concat(localStorage.getItem("staff_id")));if(!t.ok)throw Error("Could not get locations");let s=await t.json();O(s.location_list);let r=await fetch("".concat(e,"/get-delivery-shipping_class"));if(!r.ok)throw Error("Could not get shipping class");let a=await r.json();U(a);let n=await fetch("".concat(e,"/get-warehouse-master"));if(!n.ok)throw Error("COuld not get warehouse");let i=await n.json();"success"!==i.status&&y.Am.warn(i.message,{toastId:"wareHouseResWarn"}),K(i.result)}catch(e){y.Am.error(e.message,{toastId:"getLocationsAndDeliveryPartnerAndWarehouse"})}},ej=async(e,t)=>{if(t)try{if(!P.some(e=>e.order_id===parseInt(t.text)))throw Error("Product with ID: ".concat(t.text," doesnt exist in this store"));if(C.includes(parseInt(t.text)))throw Error("Product with ID: ".concat(t.text," has already been scanned"));eb(parseInt(t.text)),y.Am.success("Product ID ".concat(t.text," is scanned"))}catch(e){y.Am.error(e.message)}finally{M(!1)}};return(0,b.useEffect)(()=>{g.location&&ep(g.location)},[er,Y]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex justify-center bg-gray-100 min-h-screen relative -top-28",children:(0,r.jsxs)("div",{className:"container max-w-screen-xl rounded-lg h-fit bg-white my-8 p-4",children:[(0,r.jsx)(u.U,{className:"bg-white rounded border",transition:!0,transitionTimeout:250,initialEntered:!0,children:(0,r.jsx)(a.Z,{header:(0,r.jsx)("div",{ref:k,className:"flex justify-between items-center text-xl font-semibold text-gray-800 cursor-pointer",children:"Filters"}),children:(0,r.jsxs)("div",{className:"border rounded p-4 grid grid-cols-2 gap-4 bg-white",children:[(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("label",{htmlFor:"dateFrom",className:"mb-1",children:"Date From:"}),(0,r.jsx)("input",{type:"date",name:"dateFrom",id:"dateFrom",value:g.dateFrom,onChange:ed,className:"px-4 py-1 border rounded w-full outline-none"})]}),(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("label",{htmlFor:"dateFrom",className:"mb-1",children:"Date To:"}),(0,r.jsx)("input",{type:"date",name:"dateTo",id:"dateTo",value:g.dateTo,onChange:ed,className:"px-4 py-1 border rounded w-full outline-none"})]}),(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("label",{htmlFor:"priceFrom",className:"mb-1",children:"Price From:"}),(0,r.jsx)("input",{type:"number",name:"priceFrom",id:"priceFrom",value:g.priceFrom,onChange:ed,onKeyDown:e=>{("ArrowUp"===e.key||"ArrowDown"===e.key)&&e.preventDefault()},className:"px-4 py-1 border rounded w-full outline-none"})]}),(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("label",{htmlFor:"priceTo",className:"mb-1",children:"Price To:"}),(0,r.jsx)("input",{type:"number",name:"priceTo",id:"priceTo",value:g.priceTo,onChange:ed,onKeyDown:e=>{("ArrowUp"===e.key||"ArrowDown"===e.key)&&e.preventDefault()},className:"px-4 py-1 border rounded w-full outline-none"})]}),(0,r.jsxs)("div",{className:"relative w-full grid grid-cols-1 gap-y-1",children:[(0,r.jsx)("p",{className:"",children:"Brand:"}),v.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center  relative",children:[(0,r.jsx)("div",{className:"w-full mr-2",children:(0,r.jsx)("input",{type:"text",className:"w-full border rounded-md px-4 py-1 focus:outline-none  ",placeholder:"Brand",value:e.Name,onChange:t=>eu(e.id,"Name",t.target.value)})}),v.length>1&&0!==t&&(0,r.jsx)("button",{type:"button",className:"bg-red-100 text-red-500 hover:bg-red-500 transition-all hover:text-white px-1.5 py-0.5 rounded-md ",onClick:()=>ex(e.id),children:(0,r.jsx)("i",{className:"bi bi-trash3-fill text-xl"})})]},e.id)),(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("button",{className:"bg-blue-100 text-blue-500 px-4 py-1 rounded hover:bg-blue-500 hover:text-white transition-all content-center",onClick:()=>{0===v.length||""!==v[v.length-1].Name.trim()?_([...v,{id:v.length+1+Math.random(),Name:""}]):y.Am.warn("Please fill in all fields for the current Brand before adding a new one",{toastId:"emptyfield"})},children:[(0,r.jsx)("i",{className:"bi bi-plus-lg text-lg"}),"Add Brand"]})})]}),(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsxs)("label",{htmlFor:"locations",className:"mb-1",children:["Select Location ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("div",{className:"border rounded px-2 py-1 ".concat(A.location?"border-red-300":""),children:(0,r.jsxs)("select",{name:"location",id:"location",className:"rounded w-full outline-none h-full",value:g.location,onChange:ed,disabled:s,children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select Location:"}),E&&E.map((e,t)=>(0,r.jsx)("option",{className:"capitalize",value:e.location_id,children:e.location_name},t))]})}),A.location&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.location})]}),(0,r.jsx)("div",{className:"col-span-2 flex justify-center",children:(0,r.jsx)("button",{className:"bg-blue-100 text-blue-500 px-4 py-1 rounded hover:bg-blue-500 hover:text-white transition-all",onClick:()=>{if(!g.location||""===g.location){F({...A,location:"Select a location"});return}ea(1),k.current.click(),ep(g.location),Q(!0)},children:"Get Orders"})})]})})}),$&&(0,r.jsxs)("div",{className:"bg-white border rounded p-4 mt-4",children:[(0,r.jsx)("div",{className:"relative mb-2",children:(0,r.jsxs)("button",{className:"block ml-auto px-3 py-1 bg-accent rounded text-white",onClick:()=>{Z(),M(!0)},children:[(0,r.jsx)("i",{className:"fas fa-barcode"})," Scan Barcode"]})}),(0,r.jsxs)("div",{className:"overflow-x-auto",children:[(0,r.jsxs)("div",{className:"relative border p-2",children:[(0,r.jsx)("h6",{className:"text-xl",children:"Available Orders:"}),I?(0,r.jsxs)("table",{className:"min-w-full border rounded ",children:[(0,r.jsx)("thead",{className:"bg-gray-200",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center relative cursor-pointer",children:"Order ID"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"Variant Name"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"Brand"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"MOP"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"Bought Price"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"Created At"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Array(Y).fill(0).map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition-colors divide-x",children:[(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center relative cursor-pointer",children:(0,r.jsx)(c.X,{className:"h-5 rounded-full"})}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:(0,r.jsx)(c.X,{className:"h-5 rounded-full"})}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:(0,r.jsx)(c.X,{className:"h-5 rounded-full"})}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:(0,r.jsx)(c.X,{className:"h-5 rounded-full"})}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:(0,r.jsx)(c.X,{className:"h-5 rounded-full"})}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:(0,r.jsx)(c.X,{className:"h-5 rounded-full"})})]},t))})]}):(null==G?void 0:G.length)>0?(0,r.jsxs)("table",{className:"min-w-full border rounded ".concat(A.checkbox?"border-red-300":""),children:[(0,r.jsx)("thead",{className:"bg-gray-200",children:(0,r.jsxs)("tr",{children:[(0,r.jsxs)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center relative cursor-pointer",onClick:()=>{C.length===P.length?(D([]),J(P),V([])):(D(P.map(e=>e.order_id)),V(P),J([]))},children:[(0,r.jsx)("input",{type:"checkbox",name:"selectAll",id:"selectAll",className:"absolute left-3 inset-y-0",onChange:e=>{e.stopPropagation()},checked:C.length===P.length&&P.length>0}),"Order ID"]}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"Variant Name"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"Brand"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"MOP"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"Bought Price"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"Created At"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null==G?void 0:G.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition-colors divide-x cursor-pointer",onClick:()=>eb(e.order_id),children:[(0,r.jsxs)("td",{className:"px-4 py-3 text-sm font-medium text-center relative",children:[(0,r.jsx)("input",{type:"checkbox",name:e.order_id,id:e.order_id,className:"absolute left-3 inset-y-0",checked:C.includes(e.order_id),onChange:()=>eb(e.order_id)}),e.order_id]}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:e.variant_name}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:e.brand}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:(0,i.fK)(e.MOP)}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:(0,i.fK)(e.bought_price)}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:new Date(e.created_at).toLocaleString("en-US",{month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})})]},t))})]}):(0,r.jsx)("div",{className:"w-full border py-4 text-center text-red-500 font-semibold",children:"No devices available!"}),(0,r.jsx)("div",{className:"relative w-full mt-2",children:(0,r.jsx)(n.Z,{itemsPerPage:Y,setItemsPerPage:ee,currentPage:er,setCurrentPage:ea,totalEntries:en,totalPages:et})}),A.checkbox&&(0,r.jsx)("p",{className:"text-red-500 mt-2 text-start",children:A.checkbox})]}),(0,r.jsxs)("div",{className:"relative border p-2 mt-4",children:[(0,r.jsx)("h6",{className:"text-xl",children:"Selected Orders:"}),z.length>0?(0,r.jsxs)("table",{className:"min-w-full border rounded ".concat(A.checkbox?"border-red-300":""),children:[(0,r.jsx)("thead",{className:"bg-gray-200",children:(0,r.jsxs)("tr",{children:[(0,r.jsxs)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center relative cursor-pointer",onClick:()=>{D([]),J(P),V([])},children:[(0,r.jsx)("input",{type:"checkbox",name:"selectAll",id:"selectAll",className:"absolute left-3 inset-y-0",onChange:e=>{e.stopPropagation()},checked:C.length===P.length&&P.length>0}),"Order ID"]}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"Variant Name"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"Brand"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"MOP"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"Bought Price"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm font-semibold uppercase text-center",children:"Created At"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:z.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition-colors divide-x cursor-pointer",onClick:()=>eb(e.order_id),children:[(0,r.jsxs)("td",{className:"px-4 py-3 text-sm font-medium text-center relative",children:[(0,r.jsx)("input",{type:"checkbox",name:e.order_id,id:e.order_id,className:"absolute left-3 inset-y-0",checked:C.includes(e.order_id),onChange:()=>eb(e.order_id)}),e.order_id]}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:e.variant_name}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:e.brand}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:(0,i.fK)(e.MOP)}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:(0,i.fK)(e.bought_price)}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-center",children:new Date(e.created_at).toLocaleString("en-US",{month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})})]},t))})]}):B&&(0,r.jsx)("div",{className:"w-full border ".concat(A.checkbox?"border-red-300":""," py-4 text-center text-red-500 font-semibold"),children:"No devices selected!"})]}),(0,r.jsx)("div",{className:"flex justify-between mt-6 items-center p-2",children:(0,r.jsxs)("div",{className:"w-full grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"relative flex flex-col",children:[(0,r.jsxs)("label",{htmlFor:"weight",className:"mb-2 text-sm font-medium text-gray-700",children:["Weight (kg) ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"number",name:"weight",id:"weight",value:N.weight,onChange:em,className:"px-4 py-2 rounded border border-gray-300 ring-primary ".concat(A.weight?"border-red-300":""),placeholder:"Enter weight",onKeyDown:e=>{("ArrowUp"===e.key||"ArrowDown"===e.key)&&e.preventDefault()}}),A.weight&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.weight})]}),(0,r.jsxs)("div",{className:"relative flex flex-col",children:[(0,r.jsxs)("label",{htmlFor:"dimensions",className:"mb-2 text-sm font-medium text-gray-700",children:["Box Dimensions (Length x Width x Height)"," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"dimensions",id:"dimensions",value:N.dimensions,onChange:em,className:"px-4 py-2 rounded border border-gray-300 ring-primary ".concat(A.dimensions?"border-red-300":""),placeholder:"Length x Width x Height"}),A.dimensions&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.dimensions})]}),(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsxs)("label",{htmlFor:"locations",className:"mb-1",children:["Select Delivery Partner"," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("div",{className:"border rounded border-gray-300 ring-primary ".concat(A.deliveryPartner?"border-red-300":""),children:(0,r.jsxs)("select",{name:"deliveryPartner",id:"deliveryPartner",className:"rounded w-full outline-none h-full px-2 py-2",value:N.deliveryPartner,onChange:em,children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select Delivery Partner:"}),q&&q.map((e,t)=>(0,r.jsx)("option",{className:"capitalize",value:e,children:e},t))]})}),A.deliveryPartner&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.deliveryPartner})]}),(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsxs)("label",{htmlFor:"warehouse",className:"mb-1",children:["Select Warehouse ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("div",{className:"border rounded border-gray-300 ring-primary ".concat(A.warehouse?"border-red-300":""),children:(0,r.jsxs)("select",{name:"warehouse",id:"warehouse",className:"rounded w-full outline-none h-full px-2 py-2",value:N.warehouse,onChange:em,children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select Warehouse:"}),L&&L.length>0&&L.map((e,t)=>(0,r.jsx)("option",{className:"capitalize",value:e.id,children:e.name},t))]})}),A.warehouse&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.warehouse})]}),(0,r.jsxs)("div",{className:"relative flex flex-col",children:[(0,r.jsxs)("label",{htmlFor:"count",className:"mb-2 text-sm font-medium text-gray-700",children:["Number Of Box Pieces"," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"number",name:"count",id:"count",value:N.count,onChange:em,className:"px-4 py-2 rounded border border-gray-300 ring-primary ".concat(A.count?"border-red-300":""),placeholder:"Enter number of pieces",onKeyDown:e=>{("ArrowUp"===e.key||"ArrowDown"===e.key)&&e.preventDefault()}}),A.count&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.count})]}),(0,r.jsxs)("div",{className:"relative flex flex-col",children:[(0,r.jsxs)("label",{htmlFor:"weight",className:"mb-2 text-sm font-medium text-gray-700",children:["E-Way Bill Number"," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"number",name:"eway",id:"eway",value:N.eway,onChange:em,className:"px-4 py-2 rounded border border-gray-300 ring-primary ".concat(A.eway?"border-red-300":""),placeholder:"Enter e-way bill number",onKeyDown:e=>{("ArrowUp"===e.key||"ArrowDown"===e.key)&&e.preventDefault()}}),A.eway&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.eway})]})]})}),(0,r.jsx)("div",{className:"mt-4 grid place-content-end",children:(0,r.jsx)(o.A,{className:"bg-accent text-white rounded-md outline-none transition",onClick:()=>{s?ef():eg()},isLoading:el,children:"Submit"})})]})]})]})}),R&&(0,r.jsx)(d.R,{isOpen:X,onOpenChange:H,children:(0,r.jsx)(m.A,{children:e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.k,{className:"flex flex-col gap-1",children:"Modal Title"}),(0,r.jsx)(x.I,{children:(0,r.jsx)(j,{width:500,height:500,stopStream:()=>M(!1),onUpdate:(e,t)=>{ej(e,t)}})})]})})})]})}}},function(e){e.O(0,[260,242,541,888,774,179],function(){return e(e.s=4009)}),_N_E=e.O()}]);