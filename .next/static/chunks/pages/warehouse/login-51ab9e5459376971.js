(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[868],{1603:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/warehouse/login",function(){return a(2383)}])},2383:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return i}});var t=a(5893),r=a(1163),o=a(7294),n=a(9134),l=()=>{let e=(0,r.useRouter)(),[s,a]=(0,o.useState)(""),[l,i]=(0,o.useState)(""),[c,u]=(0,o.useState)(!1),[d,m]=(0,o.useState)(""),h=async a=>{if(a.preventDefault(),""===s||""===l){m("Email and Password are required");return}try{let a=new FormData;a.append("username",s),a.append("password",l);let t=await fetch("".concat("https://buybackservice.unicornstore.in","/warehouse/token"),{method:"POST",body:a});if(!t.ok){m("Invalid username or password");return}let r=await t.json();localStorage.setItem("warehouse_token",r.access_token),localStorage.setItem("warehouse_name",r.name),localStorage.setItem("warehouse_id",r.warehouse_id),e.push("/warehouse")}catch(e){n.Am.error(e.message,{toastId:"warhouseLoginError"})}};return(0,t.jsx)("div",{className:"flex items-center justify-center py-20 bg-gray-100",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:"Warehouse Login"}),(0,t.jsxs)("form",{onSubmit:e=>h(e),children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:"Email Address"}),(0,t.jsx)("input",{type:"email",id:"email",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-accent",value:s,onChange:e=>a(e.target.value),placeholder:"Enter email",autoComplete:"email"})]}),(0,t.jsxs)("div",{className:"mb-4 relative",children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-gray-700 mb-2",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:c?"text":"password",id:"password",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-accent",value:l,onChange:e=>i(e.target.value),placeholder:"Enter password",autoComplete:"current-password"}),(0,t.jsx)("span",{className:"absolute inset-y-0 right-4 top-3 text-gray-500 cursor-pointer",onClick:()=>{u(!c)},children:(0,t.jsx)("i",{className:"bi ".concat(c?"bi-eye-slash":"bi-eye")})})]})]}),d&&(0,t.jsx)("p",{className:"text-red-500 text-sm mb-4",children:d}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-accent text-white p-3 rounded-lg transition duration-300",children:"Login"})]})]})})},i=()=>(0,t.jsx)("div",{children:(0,t.jsx)(l,{})})}},function(e){e.O(0,[888,774,179],function(){return e(e.s=1603)}),_N_E=e.O()}]);