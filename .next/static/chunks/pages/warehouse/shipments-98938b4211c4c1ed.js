(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5412],{42539:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/warehouse/shipments",function(){return a(60133)}])},12115:function(e,t,a){"use strict";var s=a(85893);a(67294),t.Z=e=>{let{itemsPerPage:t,setItemsPerPage:a,currentPage:n,setCurrentPage:r,totalEntries:l,totalPages:c}=e;return(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("label",{htmlFor:"items",className:"text-sm",children:"Items per page:"}),(0,s.jsx)("select",{id:"items",className:"border border-gray-300 rounded-md py-1 px-2 ring-accent",value:t,onChange:e=>{a(parseInt(e.target.value,10)),r(1)},children:[15,20,25,30,35].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-3 md:mt-0",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-700",children:[t*n-t+1," to"," ",t*n<l?t*n:l," ","of ",l]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("button",{onClick:()=>r(1),disabled:1===n,className:"p-2 rounded-full ring-accent ".concat(n>1?"text-accent":"text-gray-400"),children:(0,s.jsx)("i",{className:"bi bi-chevron-bar-left text-lg"})}),(0,s.jsx)("button",{onClick:()=>r(e=>e>1?e-1:e),disabled:1===n,className:"p-2 rounded-full ring-accent ".concat(n>1?"text-accent":"text-gray-400"),children:(0,s.jsx)("i",{className:"bi bi-chevron-left text-lg"})}),(0,s.jsx)("button",{onClick:()=>r(e=>e<c?e+1:e),disabled:n===c,className:"p-2 rounded-full ring-accent ".concat(n<c?"text-accent":"text-gray-400"),children:(0,s.jsx)("i",{className:"bi bi-chevron-right text-lg"})}),(0,s.jsx)("button",{onClick:()=>r(c),disabled:n===c,className:"p-2 rounded-full ring-accent ".concat(n<c?"text-accent":"text-gray-400"),children:(0,s.jsx)("i",{className:"bi bi-chevron-bar-right text-lg"})})]})]})]})}},4625:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(67294);function n(e,t){let[a,n]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e]),a}},60133:function(e,t,a){"use strict";a.r(t);var s=a(85893),n=a(67294),r=a(4625),l=a(12115),c=a(11163),i=a(9134),o=a(32553),d=a(41664),u=a.n(d),h=a(9008),p=a.n(h),x=a(4483);t.default=()=>{let e=(0,c.useRouter)(),[t,a]=(0,n.useState)(null),[d,h]=(0,n.useState)(10),[m,f]=(0,n.useState)(1),[b,g]=(0,n.useState)(null),[j,N]=(0,n.useState)(null),[y,v]=(0,n.useState)("");(0,r.Z)(y,500);let[w,_]=(0,n.useState)(!0),[S,k]=(0,n.useState)(""),C=(0,o.dQ)(),P=async()=>{let e=localStorage.getItem("warehouse_id");try{_(!0);let t=await fetch("".concat("https://buybackservice.unicornstore.in","/get-all-shipments?page=").concat(m,"&per_page=").concat(d,"&sort_desc=false&search=").concat(y,"&warehouse_id=").concat(e,"&delivered=true&is_confirmed=true"),{headers:{Authorization:C}});if(!t.ok)throw Error("Could not get shipment Res");let s=await t.json();a(s.data),N(s.total_count),g(Math.ceil(s.total_count/d)),s.data.forEach(e=>{k(t=>({...t,[e.shipment_id]:e.status}))})}catch(e){i.Am.error(e.message,{toastId:"getshipmentres"})}finally{setTimeout(()=>{_(!1)},300)}};return(0,n.useEffect)(()=>{P()},[m,d]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{f(1),P()},300);return()=>clearTimeout(e)},[y]),(0,s.jsxs)("div",{className:"flex justify-center bg-gray-100 min-h-screen",children:[(0,s.jsx)(p(),{children:(0,s.jsx)("title",{children:"BuyBack - Warehouse"})}),(0,s.jsx)("div",{className:"container max-w-screen-xl",children:(0,s.jsxs)("div",{className:"flex flex-col bg-white p-4 mb-8 rounded shadow justify-center space-y-2",children:[(0,s.jsxs)("h2",{className:"text-2xl font-semibold",children:["Warehouse Dashboard | Shipments"," "]}),(0,s.jsxs)("div",{className:"relative p-2 space-y-2 rounded",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{className:"text-sm text-gray-700 mb-1",htmlFor:"search-bar",children:"Search by Shipment ID, Store, Shipping Class, Status or weight"}),(0,s.jsx)("input",{type:"text",className:"w-full border border-gray-400 py-2 px-4 rounded-md ring-accent",name:"search-bar",id:"search-bar",value:y,onChange:e=>v(e.target.value),spellCheck:!1,autoComplete:"off",placeholder:"Search by Shipment ID, Store, Shipping Class, Status or weight"})]}),(0,s.jsxs)("table",{className:"min-w-full table-auto bg-white rounded overflow-hidden shadow",children:[(0,s.jsx)("thead",{className:"bg-gray-200",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-center py-2.5",children:"Shipment ID"}),(0,s.jsx)("th",{className:"text-center py-2.5",children:"Store"}),(0,s.jsx)("th",{className:"text-center py-2.5",children:"Shipping Class"}),(0,s.jsx)("th",{className:"text-center py-2.5",children:"Requested On"}),(0,s.jsx)("th",{className:"text-center py-2.5",children:"Status"}),(0,s.jsx)("th",{className:"text-center py-2.5",children:"Weight"}),(0,s.jsx)("th",{className:"text-center py-2.5",children:"Dimensions"}),(0,s.jsx)("th",{className:"text-center py-2.5",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y",children:w?Array(d).fill(0).map((e,t)=>(0,s.jsxs)("tr",{className:"divide-x hover:bg-gray-100",children:[(0,s.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,s.jsx)(x.X,{className:"h-5 rounded-full"})}),(0,s.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,s.jsx)(x.X,{className:"h-5 rounded-full"})}),(0,s.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,s.jsx)(x.X,{className:"h-5 rounded-full"})}),(0,s.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,s.jsx)(x.X,{className:"h-5 rounded-full"})}),(0,s.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,s.jsx)(x.X,{className:"h-5 rounded-full"})}),(0,s.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,s.jsx)(x.X,{className:"h-5 rounded-full"})}),(0,s.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,s.jsx)(x.X,{className:"h-5 rounded-full"})}),(0,s.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,s.jsx)(x.X,{className:"h-5 rounded-full"})})]},t)):t&&t.length>0?t.map((t,a)=>(0,s.jsxs)("tr",{className:"divide-x hover:bg-gray-100 cursor-pointer",onClick:()=>e.push("/warehouse/shipment/".concat(t.shipment_id)),children:[(0,s.jsx)("td",{className:"py-1.5 text-center capitalize",children:t.shipment_id}),(0,s.jsx)("td",{className:"py-1.5 text-center capitalize",children:t.store}),(0,s.jsx)("td",{className:"py-1.5 text-center capitalize",children:t.shipping_class}),(0,s.jsx)("td",{className:"py-1.5 text-center capitalize",children:t.shipping_requested_date?(0,o.a)(t.shipping_requested_date):"-"}),(0,s.jsx)("td",{className:"py-1.5 text-center capitalize",children:t.status}),(0,s.jsx)("td",{className:"py-1.5 text-center capitalize",children:t.weight_in_kg}),(0,s.jsx)("td",{className:"py-1.5 text-center",children:Object.values(t.box_dimensions).join(" x ")}),(0,s.jsx)("td",{className:"py-1.5 text-center",children:(0,s.jsx)(u(),{href:"/warehouse/shipment/".concat(t.shipment_id),className:"bg-blue-100 text-blue-500 hover:text-white hover:bg-blue-500 rounded p-1 transition-all fas fa-eye ring-custom ring-blue-400"})})]},a)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:8,className:"w-full border py-4 text-center text-red-500 font-semibold",children:"No entries to show!"})})})]}),(0,s.jsx)(l.Z,{itemsPerPage:d,setItemsPerPage:h,currentPage:m,setCurrentPage:f,totalEntries:j,totalPages:b})]})]})})]})}},9008:function(e,t,a){e.exports=a(7828)},4483:function(e,t,a){"use strict";a.d(t,{X:function(){return h}});var s=a(15607),n=(0,a(44831).tv)({slots:{base:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","pointer-events-none","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2","data-[loaded=true]:pointer-events-auto","data-[loaded=true]:overflow-visible","data-[loaded=true]:!bg-transparent","data-[loaded=true]:before:opacity-0 data-[loaded=true]:before:-z-10 data-[loaded=true]:before:animate-none","data-[loaded=true]:after:opacity-0"],content:["opacity-0","group-data-[loaded=true]:opacity-100"]},variants:{disableAnimation:{true:{base:"before:animate-none before:transition-none after:transition-none",content:"transition-none"},false:{base:"transition-background !duration-300",content:"transition-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{}}),r=a(60798),l=a(49869),c=a(50262),i=a(67294),o=a(76733),d=a(85893),u=(0,s.Gp)((e,t)=>{let{Component:a,children:u,getSkeletonProps:h,getContentProps:p}=function(e){var t,a;let d=(0,o.w)(),[u,h]=(0,s.oe)(e,n.variantKeys),{as:p,children:x,isLoaded:m=!1,className:f,classNames:b,...g}=u,j=null!=(a=null!=(t=e.disableAnimation)?t:null==d?void 0:d.disableAnimation)&&a,N=(0,i.useMemo)(()=>n({...h,disableAnimation:j}),[(0,r.Xx)(h),j,x]),y=(0,l.W)(null==b?void 0:b.base,f);return{Component:p||"div",children:x,slots:N,classNames:b,getSkeletonProps:(e={})=>({"data-loaded":(0,c.PB)(m),className:N.base({class:(0,l.W)(y,null==e?void 0:e.className)}),...g}),getContentProps:(e={})=>({className:N.content({class:(0,l.W)(null==b?void 0:b.content,null==e?void 0:e.className)})})}}({...e});return(0,d.jsx)(a,{ref:t,...h(),children:(0,d.jsx)("div",{...p(),children:u})})});u.displayName="NextUI.Skeleton";var h=u}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=42539)}),_N_E=e.O()}]);