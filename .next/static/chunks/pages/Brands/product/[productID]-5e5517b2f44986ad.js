(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7520],{9371:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Brands/product/[productID]",function(){return a(58772)}])},58772:function(e,t,a){"use strict";a.r(t);var s=a(85893),n=a(32553),c=a(96180),r=a(14930),l=a(9008),i=a.n(l),d=a(25675),o=a.n(d),u=a(41664),h=a.n(u),m=a(11163),x=a(67294);t.default=()=>{let e=(0,m.useRouter)(),{productID:t}=e.query,a="https://buybackservice.unicornstore.in",[l,d]=(0,x.useState)(null),[u,p]=(0,x.useState)(!0),[f,g]=(0,x.useState)(null),[j,y]=(0,x.useState)(null),[w,_]=(0,x.useState)(null),[N,b]=(0,x.useState)(null),[v,S]=(0,x.useState)(null),[k,E]=(0,x.useState)(null),[C,P]=(0,x.useState)(""),[z,A]=(0,x.useState)(!1),B=(0,n.dQ)(),O=async()=>{let e=await fetch("".concat(a,"/get-variant-by-product_id?product_id=").concat(t),{headers:{Authorization:B}});_(await e.json())};(0,x.useEffect)(()=>{t&&(async()=>{p(!0),g(null);try{let e=await fetch("".concat(a,"/get-product-by-id/?product_id=").concat(t),{headers:{Authorization:B}});if(!e.ok)throw Error("Failed to fetch product data");let s=await e.json();d(s),b(s.price_upto),S(s.name),O();let n=await fetch("".concat(a,"/get-category-by-id/?category_id=").concat(s.category_id),{headers:{Authorization:B}});if(!n.ok)throw Error("Could not get category");let c=await n.json();P(c.name)}catch(e){g(e.message)}finally{p(!1)}})()},[t,a]);let T=async()=>{try{A(!0);let t=await fetch("".concat(a,"/create-order"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:B},body:JSON.stringify({staff_id:localStorage.getItem("staff_id"),product_id:l.id,total_value:l.price_upto,status:"Pending"})});if(!t.ok)throw Error("Failed to create order");let s=await t.json();e.push("/Brands/product/questions/".concat(j,"/").concat(s.order_id))}catch(e){g(e.message)}finally{A(!1)}};return u?(0,s.jsx)("div",{className:"text-center mt-40 bg-white",children:(0,s.jsx)(c.c,{color:"success"})}):f?(0,s.jsx)("div",{className:"w-screen h-screen flex justify-center  bg-white mt-40",children:(0,s.jsxs)("p",{className:"text-red-500 text-lg",children:["Error: ",f]})}):l?(0,s.jsxs)("div",{className:"min-h-screen w-screen flex justify-center bg-white",children:[(0,s.jsx)(i(),{children:(0,s.jsxs)("title",{children:["BuyBack - Sell old ",v," ",k]})}),(0,s.jsxs)("div",{className:"max-w-screen-xl w-full px-3",children:[(0,s.jsxs)("p",{className:"md:heading font-semibold text-2xl px-5 md:ps-0",children:["Sell old ",l.name]}),(0,s.jsxs)("p",{className:"text-gray-500 text-base ps-5 md:ps-0",children:[(0,s.jsx)(h(),{href:"/",className:"text-gray-500 inline no-underline hover:underline",children:"Home"})," > ",(0,s.jsxs)(h(),{href:"/category/".concat(l.parent_category_id),className:"text-gray-500 inline no-underline hover:underline",children:["Sell old ",l.parent_category_name]})," > ",(0,s.jsxs)(h(),{href:"/Brands/".concat(l.parent_category_id,"/").concat(l.brand_id),className:"text-gray-500 inline no-underline hover:underline",children:["Sell old ",l.brand_name]})," > ",(0,s.jsxs)("span",{className:"text-black",children:["Sell old ",l.name]})]}),(0,s.jsxs)("div",{className:"lg:max-w-screen-xl min-h-96 rounded grid grid-cols-1 md:grid-cols-4 justify-start items-center mt-5 shadow-lg",children:[(0,s.jsx)("div",{className:"w-full flex justify-center ",children:(0,s.jsx)(o(),{src:l.image_url||"/refurbished.webp",width:150,height:100,alt:l.name||"Product image"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center md:items-start justify-start px-6 col-span-3 pb-4",children:[(0,s.jsxs)("p",{className:"text-lg mb-4 font-semibold",children:[v," ",k]}),(0,s.jsxs)("div",{className:"".concat(""),children:[(0,s.jsx)("p",{className:"",children:"Choose a variant"}),(0,s.jsxs)("p",{className:"mb-6 text-xl",children:["Get upto",(0,s.jsxs)("span",{className:"text-red-500",children:[" â‚¹",N]})]}),(0,s.jsx)("div",{id:"variants",className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-x-3 gap-y-3 mb-6",children:w&&w.length>0&&(null==w?void 0:w.map((e,t)=>(0,s.jsxs)("label",{className:"flex items-center py-2 px-5 md:px-10 lg:px-6 rounded shadow-md cursor-pointer min-w-40 custom-radio transition-all duration-75 ".concat(j===e.variant_id?"shadow-xl scale-105":""),onClick:()=>{b(e.price),E(e.name),y(e.variant_id)},children:[(0,s.jsx)("input",{type:"checkbox",name:"size",value:e.name,checked:j===e.variant_id,className:"hidden",readOnly:!0}),(0,s.jsx)("span",{className:"radio-custom"}),(0,s.jsx)("span",{className:"ms-3 flex items-center justify-center flex-col w-full",children:e.name})]},t)))})]}),(0,s.jsx)(r.A,{color:"success",isLoading:z,disabled:!j,className:"rounded text-white ring-accent ".concat(j?"bg-accent text-white":"bg-gray-300"),onPress:T,children:"Get Exact Value"})]})]})]})]}):(0,s.jsx)("div",{className:"w-screen h-screen flex justify-center  bg-white mt-40",children:(0,s.jsx)("p",{children:"No product data available"})})}},9008:function(e,t,a){e.exports=a(7828)}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=9371)}),_N_E=e.O()}]);