(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{597:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Brands/product/questions/[...variant_order]",function(){return s(4678)}])},9722:function(e,t,s){"use strict";var a=s(5893),l=s(4863),r=s(7294),n=s(3942),i=s.n(n);t.Z=e=>{let{maxNumber:t=69,buttonStyles:s={},imageStyles:n={},containerStyles:c={},onImagesChange:o=()=>{},folderName:d,s3imageUrlArray:m,setS3imageUrlArray:u,tag:h,imageName:x,setImageName:p,setAadharCount:f,aadharCount:g,setPhoneCount:b,phoneCount:y,clearImages:j}=e,[w,N]=(0,r.useState)([]),[v,_]=(0,r.useState)(!1),I="https://buybackservice.unicornstore.in",E=e=>e.reduce((e,t)=>({...e,...t}),{});(0,r.useEffect)(()=>{m&&E(m)[h]&&N([{data_url:E(m)[h]}])},[m,h]),(0,r.useEffect)(()=>{j&&j(()=>N([]))},[j]),(0,r.useEffect)(()=>{("GST_certificate"===h||"cheque"===h||"company_logo"===h)&&N(m.filter(e=>e[h]).map(e=>({original_url:e[h],data_url:"".concat(e[h],"?t=").concat(new Date().getTime())})))},[m,h]);let k=e=>({front_aadhar:"front_aadhar",back_aadhar:"back_aadhar",Top:"Top",Bottom:"Bottom",Front:"Front",Back:"Back",Left:"Left",Right:"Right",front_invoice:"front_invoice",back_invoice:"back_invoice"})[e]||e,S=e=>{u(t=>t.filter(t=>!Object.values(t).includes(e)))},C=e=>{let[t,s]=e.split(","),a=t.split(":")[1].split(";")[0],l=atob(s),r=new ArrayBuffer(l.length),n=new Uint8Array(r);for(let e=0;e<l.length;e++)n[e]=l.charCodeAt(e);return new Blob([r],{type:a})},A=(e,t)=>new File([e],t,{type:e.type}),M=async e=>{let t=new FormData;e.forEach(e=>t.append("file",e));try{_(!0);let e=await fetch("".concat(I,"/upload-for-order-detail/?folder_name=").concat(d),{method:"POST",body:t});if(!e.ok)throw Error("Failed to upload images");let s=await e.json();u(e=>[...e,{[k(h)]:s.s3_image_url}]),["Top","Bottom","Front","Back","Left","Right"].includes(h)&&b(e=>e+1),["front_aadhar","back_aadhar"].includes(h)&&f(e=>e+1)}catch(e){console.error("Error uploading images:",e)}finally{_(!1)}},q=(0,r.useCallback)((e,t)=>{p(h+(x+1)),N(e),o(e,t),M(e.map(e=>A(C(e.data_url),"image_".concat(x,".jpg"))))},[o,h,x,M]),T=async e=>{try{if(!(await fetch("".concat(I,"/remove-image?s3_image=").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete image");["Top","Bottom","Front","Back","Left","Right"].includes(h)&&b(e=>e-1),["front_aadhar","back_aadhar"].includes(h)&&f(e=>e-1)}catch(e){console.error("Error deleting image:",e)}},O=async e=>{let t=w[e];console.log({imageToRemove:t});let s=t&&t.data_url;await T(s),S(s),N(t=>t.filter((t,s)=>s!==e)),u(e=>e.filter(e=>!Object.values(e).includes(s)))};return v?(0,a.jsx)("div",{className:"w-full max-h-full h-full relative grid place-content-center",children:(0,a.jsx)(l.c,{})}):(0,a.jsx)("div",{className:"w-full h-full max-h-full relative ".concat(c),children:(0,a.jsx)(i(),{multiple:!0,value:w,onChange:q,maxNumber:t,dataURLKey:"data_url",children:e=>{let{imageList:t,onImageUpload:l,isDragging:r,dragProps:i}=e;return(0,a.jsxs)("div",{className:"flex flex-col w-full h-full items-center justify-center max-h-full",children:[(0,a.jsx)("button",{style:{...s,color:r?"red":void 0},onClick:l,...i,className:"text-gray-400 w-full h-full content-center absolute top-0 left-0 ",children:(0,a.jsx)("span",{className:"".concat(w.length>0?"hidden":""),children:"Click here to upload or Drop here"})}),(0,a.jsx)("div",{className:"overflow-y-scroll scrollbar-hidden z-10 w-full",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-full space-y-5",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-start md:justify-center ",children:[(0,a.jsx)("div",{className:"flex flex-row absolute right-1 space-x-1 top-1 h-full",children:(0,a.jsx)("button",{className:"text-red-500 bg-gray-200 rounded px-1 text-xl h-fit sticky top-1",onClick:e=>{e.stopPropagation(),O(t)},children:(0,a.jsx)("i",{className:"bi bi-x-square"})})}),(0,a.jsx)("img",{className:"h-full",src:e.data_url,alt:"",style:n})]},t))})})]})}})})}},4678:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var a=s(5893),l=s(7294),r=e=>{let{journeyData:t}=e;return t&&"success"===t.status&&Array.isArray(t.data)&&0!==t.data.length?(0,a.jsx)("div",{className:"w-full h-full flex flex-col",children:t.data.map((e,t)=>Object.keys(e).map(s=>{let l=e[s];return Array.isArray(l)?(0,a.jsxs)("div",{className:"journey-element",children:[(0,a.jsxs)("p",{className:" text-lg font-semibold accent",children:[s,":"]}),l.map((e,t)=>(0,a.jsx)("p",{className:"ms-2",children:e&&e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()||"No detail available"},t))]},"".concat(t,"-").concat(s)):(0,a.jsx)("div",{className:"journey-element",children:(0,a.jsxs)("p",{children:["Error: Details are not available for ",s,"."]})},"".concat(t,"-").concat(s))}))}):(0,a.jsx)("p",{})},n=s(9722),i=s(9008),c=s.n(i),o=s(5675),d=s.n(o),m=s(1163),u=s(8386),h=s(373),x=s(5152),p=s.n(x),f=s(7957),g=s(8620),b=s(1680),y=s(199),j=s(7740),w=s(6597),N=s(9412),v=s(5066),_=e=>{let{buyerData:t}=e,l=()=>'\n          <div style="font-size: 13px; line-height: 1.2; width: 100%; box-sizing: border-box; padding: 10mm;">\n            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; align-items: start; width: 100%;">\n              <div>\n                <p style="font-size:18px; font-weight: bold;">Customer Purchase Receipt</p>\n                <p style="margin-top:10px">Date: '.concat((0,v.a)(new Date),'</p>\n                <p>Service Number: </p>\n                <p>Buyer: Unicorn </p>\n              </div>\n              <div style="text-align: right;">\n                <p style="font-size: 18px; font-weight: bold;">BuyBack</p>\n                <p style="font-size: 12px;">www.buyback.in</p>\n              </div>\n              <div style="grid-column: span 2 / span 2; background-color:#eee; padding: 16px; border-radius: 4px; border:1px solid #ddd">\n                <table style="width: 100%; border-collapse: collapse;">\n                  <tr>\n                    <td style="font-weight: bold; width: 100px;">Seller Details:</td>\n                    <td></td>\n                  </tr>\n                  <tr>\n                    <td style="font-weight: bold; padding: 5px 0; width: 100px;">Name:</td>\n                    <td style="padding: 5px 0;">').concat(t.username+" "+t.userLastName,'</td>\n                  </tr>\n                  <tr>\n                    <td style="font-weight: bold; padding: 5px 0; width: 100px;">Contact No.:</td>\n                    <td style="padding: 5px 0;">').concat(t.userPhone,'</td>\n                  </tr>\n                  <tr>\n                    <td style="font-weight: bold; padding: 5px 0; width: 100px;">Email Id:</td>\n                    <td style="padding: 5px 0;">').concat(t.userEmail,'</td>\n                  </tr>\n                </table>\n              </div>\n              <div style="grid-column: span 2 / span 2; margin: 10px 0px 0px 0px">\n                <p style="font-weight: bold; font-size:16px;">INDEMNITY BOND</p>\n                <p style="margin: 8px 0px">This Bond of Indemnity is made and executed by: <strong>').concat(t.username+" "+t.userLastName,'</strong> Herein after referred to as "Seller" who has come in Retail store of <strong>UNICORN @ CITY</strong> to sell his/her old Gadget, to the Unicorn Network herein after referred to as "Purchaser" which expression shall mean and include its representative, executors, nominee, partness, affiliates and assigns on day of <strong>').concat((0,v.a)(new Date),'</strong>  </p>\n                <p style="text-align:right;"><strong>').concat(t.username+" "+t.userLastName,"</strong> <br /> Seller Name</p>\n              </div>\n              \n            </div>\n          </div>\n        ");return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:l()}}),(0,a.jsx)("div",{className:"text-center mt-8",children:(0,a.jsx)("button",{onClick:()=>{s.e(607).then(s.t.bind(s,8607,23)).then(e=>{(0,e.default)({printable:l(),type:"raw-html",honorMarginPadding:!0,style:"\n                @page {\n                  size: A4;\n                  margin: 0;\n                }\n                body {\n                  margin: 0;\n                }\n                div {\n                  width: 100%;\n                } \n              "})}).catch(e=>{console.error("Failed to load printJS:",e)})},className:"bg-primary text-white px-6 py-2 rounded block ms-auto col-span-",children:"Print Receipt"})})]})},I=s(9134),E=s(3942),k=s.n(E),S=s(4863),C=e=>{let{maxNumber:t=1,onImagesChange:s=()=>{},s3imageUrlArray:r,setS3imageUrlArray:n,tag:i,imageName:c,setImageName:o}=e,[d,m]=(0,l.useState)([]),[u,h]=(0,l.useState)(""),[x,p]=(0,l.useState)(!1),[f,g]=(0,l.useState)(!1),[b,y]=(0,l.useState)(""),j="https://buybackservice.unicornstore.in";(0,l.useEffect)(()=>{r&&r[i]&&(r[i],m([{data_url:r[i]}]),y(r[i]),h(i))},[r,i]);let w=e=>{n(t=>{let s={...t};return delete s[e],s})},N=e=>{let[t,s]=e.split(","),a=t.split(":")[1].split(";")[0],l=atob(s),r=new ArrayBuffer(l.length),n=new Uint8Array(r);for(let e=0;e<l.length;e++)n[e]=l.charCodeAt(e);return new Blob([r],{type:a})},v=(e,t)=>new File([e],t,{type:e.type}),_=async e=>{try{if(p(!0),!["image/jpeg","image/png","image/jpg"].includes(e[0].type))throw Error("Unsupported file type, please use jpeg or png instead");let t=new Blob([e[0]],{type:e[0].type}),s=new FormData;s.append("file",t);let a=await fetch("".concat(j,"/upload-image/"),{method:"POST",body:s});if(!a.ok)throw Error("Failed to upload images");let l=await a.json();if("success"===l.status)n(e=>({...e,[i]:l.url})),h(l.s3_image),y(l.url),g(!1);else throw Error(l.message)}catch(e){console.error("Error uploading images:",e),I.Am.error(e.message,{toastId:"UploadMiscImageError"}),g(!0)}finally{p(!1)}},E=(0,l.useCallback)((e,t)=>{o(i+(c+1)),m(e),s(e,t),_(e.map(e=>v(N(e.data_url),"image_".concat(c,".jpg"))))},[s,i,c,_]),C=async e=>{try{if(!(await fetch("".concat(j,"/remove-image?url=").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete image")}catch(e){console.error("Error deleting image:",e)}},A=async()=>{try{await C(b),w(u),m([]),n(e=>{let t={...e};return delete t[u],t})}catch(e){console.error("Error removing image:",e),I.Am.error(e.message,{toastId:"ImageRemoveError"})}};return x?(0,a.jsx)("div",{className:"w-full max-h-full relative grid place-content-center",children:(0,a.jsx)(S.c,{})}):(0,a.jsx)("div",{className:"w-full h-full max-h-full relative",children:(0,a.jsx)(k(),{value:d,onChange:E,dataURLKey:"data_url",children:e=>{let{imageList:t,onImageUpload:s,isDragging:l,dragProps:r,errors:n}=e;return(0,a.jsxs)("div",{className:"flex flex-col w-full h-full items-center justify-center max-h-full",children:[(0,a.jsx)("button",{onClick:s,...r,className:"w-full h-full content-center absolute top-0 left-0  outline-none ".concat(l?"text-red-500":""),children:!n&&(0,a.jsx)("span",{className:"".concat(d.length>0?"hidden":""," "),children:f?"Failed to upload image, please try again":"Click here to upload or Drop here"})}),(0,a.jsx)("div",{className:"overflow-y-scroll scrollbar-hidden z-10 w-full",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-full space-y-5",children:f?"Failed to upload image, please try again":t.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-start md:justify-center ",children:[(0,a.jsx)("div",{className:"flex flex-row absolute right-1 space-x-1 top-1 h-full",children:(0,a.jsx)("button",{className:"text-red-500 border border-red-500 hover:bg-red-500 hover:text-white transition-all bg-white rounded px-2 text-xl h-fit sticky top-1",onClick:e=>{e.stopPropagation(),A(t)},children:(0,a.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,a.jsx)("img",{className:"h-full",src:b,alt:""})]},t))})})]})}})})},A=s(3246),M=s(5961),q=s.n(M);p()(()=>s.e(607).then(s.t.bind(s,8607,23)),{loadableGenerated:{webpack:()=>[8607]},ssr:!1});var T=()=>{let e=(0,m.useRouter)(),{variant_order:t}=e.query,i="https://buybackservice.unicornstore.in",[o,x]=(0,l.useState)(null),[p,E]=(0,l.useState)(""),[k,S]=(0,l.useState)(!0),[M,T]=(0,l.useState)(null),[O,P]=(0,l.useState)([]),[D,B]=(0,l.useState)({}),[F,U]=(0,l.useState)(!0),[L,z]=(0,l.useState)(null),[R,K]=(0,l.useState)(0),[Z,J]=(0,l.useState)(""),[V,G]=(0,l.useState)(""),[H,Y]=(0,l.useState)(""),[X,W]=(0,l.useState)(""),[$,Q]=(0,l.useState)(""),[ee,et]=(0,l.useState)(""),[es,ea]=(0,l.useState)(!1),[el,er]=(0,l.useState)(!0),[en,ei]=(0,l.useState)(null),[ec,eo]=(0,l.useState)(!1),[ed,em]=(0,l.useState)(0),[eu,eh]=(0,l.useState)(!1),[ex,ep]=(0,l.useState)(!0),[ef,eg]=(0,l.useState)(""),[eb,ey]=(0,l.useState)([]),[ej,ew]=(0,l.useState)(""),[eN,ev]=(0,l.useState)(!1),[e_,eI]=(0,l.useState)(null),[eE,ek]=(0,l.useState)(!1),[eS,eC]=(0,l.useState)(""),[eA,eM]=(0,l.useState)(""),[eq,eT]=(0,l.useState)(""),[eO,eP]=(0,l.useState)(new Set),[eD,eB]=(0,l.useState)(0),eF=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,[eU,eL]=(0,l.useState)(0),[ez,eR]=(0,l.useState)(0),[eK,eZ]=(0,l.useState)(!1),[eJ,eV]=(0,l.useState)(""),[eG,eH]=(0,l.useState)(!1),[eY,eX]=(0,l.useState)(!1),[eW,e$]=(0,l.useState)(!0),[eQ,e0]=(0,l.useState)({userEmail:H,userPhone:X,userLastName:V,username:Z}),[e1,e2]=(0,l.useState)({}),[e3,e5]=(0,l.useState)({}),[e4,e8]=(0,l.useState)("indemnityBody"),{isOpen:e6,onOpen:e7,onOpenChange:e9}=(0,f.q)(),[te,tt]=(0,l.useState)(0),[ts,ta]=(0,l.useState)({price:!0,verification:!1,phoneDetails:!1,indemnity:!1}),[tl,tr]=(0,l.useState)({price:!1,verification:!1,phoneDetails:!1,indemnity:!1}),[tn,ti]=(0,l.useState)({oldIMEI:"",newIMEI:""}),[tc,to]=(0,l.useState)({oldIMEI:"",newIMEI:""}),[td,tm]=(0,l.useState)(!1),[tu,th]=(0,l.useState)([]),[tx,tp]=(0,l.useState)(null),[tf,tg]=(0,l.useState)("");(0,l.useEffect)(()=>{e0({userEmail:H,userPhone:X,userLastName:V,username:Z})},[H,X,V,Z]),(0,l.useEffect)(()=>{let e;return ed>0?e=setInterval(()=>{em(e=>e-1)},1e3):eh(!1),()=>clearInterval(e)},[ed]);let tb=()=>{Y(""),J(""),G(""),W(""),et(""),ea(!1),ep(!0),eh(!1),em(0),ey([]),ew(""),eL(0),eR(0),eX(!1),eZ(!1)};function ty(e,t){B(s=>{let a={...s};return a[e]===t?delete a[e]:a[e]=t,a})}let tj=async()=>{try{if(!(await fetch("".concat(i,"/delete-all-by-order-id?order_id=").concat(t[1]),{method:"DELETE"})).ok)throw Error("Delete failed")}catch(e){console.log(e),T(e.message)}},tw=async()=>{S(!0);try{let e=await fetch("".concat(i,"/get-variant-by-id/?variant_id=").concat(t[0]));if(!e.ok)throw Error("Failed to fetch variant");let s=await e.json();if(z(s),!s.product_id)throw Error("Product ID is missing in variant");let a=await fetch("".concat(i,"/get-product-by-id/?product_id=").concat(s.product_id));if(!a.ok)throw Error("Failed to fetch product");let l=await a.json();x(l);let r=await fetch("".concat(i,"/get-brand-by-id/?brand_id=").concat(l.brand_id));if(!r.ok)throw Error("Failed to fetch brand");let n=await r.json();E(n.name);let c=await fetch("".concat(i,"/get-questions-by-product?product_id=").concat(s.product_id));if(!c.ok)throw Error("Failed to fetch questions");let o=await c.json();P(o.result);let d=new Set(o.result.filter(e=>1===e.set_base_value).map(e=>e.question_id));eP(d)}catch(e){T(e.message)}finally{S(!1)}};(0,l.useEffect)(()=>{ey([]),t&&(eM(localStorage.getItem("staff_id")),tp(localStorage.getItem("staff_login")),"false"===localStorage.getItem("staff_login")?(Q(localStorage.getItem("name")),tg(localStorage.getItem("executive_id"))):tL(localStorage.getItem("staff_id")),tj(),tw())},[t,i]),(0,l.useEffect)(()=>{let e=Object.keys(D).length>0;e?e&&ek(!0):ek(!1),t_()&&eT("")},[D]),(0,l.useEffect)(()=>{"yes"===D.satisfied&&er(!0)},[D.satisfied]);let tN=async(e,s)=>{if(F)try{if(U(!1),!(await fetch("".concat(i,"/create-product-question-answer"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({variant_id:t[0],order_id:t[1],question_id:e,answer:s})})).ok)throw Error("Failed to submit answer")}catch(e){console.error("Error submitting answer:",e.message)}finally{U(!0)}},tv=(e,t)=>{tN(e,t),setTimeout(()=>{tO()},250)},t_=()=>O.filter(e=>1===e.set_base_value).map(e=>e.question_id).every(e=>D[e]),tI=async e=>{if(t_()){e7(),K("Loading...");try{let t=await fetch("".concat(i,"/create-order-detail/?order_id=").concat(e,"&staff_id=").concat(eA),{method:"POST"});if(!t.ok)throw Error("Could not create order detail");let s=await t.json();"error"===s.status||"info"===s.status?K("Something went wrong"):(K(s.exact_value),eC(s.order_detail_id),e2(s))}catch(e){console.log(e)}}else{eT("Please fill all required fields.");return}},tE=async()=>{if(eF.test(H))try{ew(""),ea(!0);let e=await fetch("".concat(i,"/customer/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:Z,last_name:V,email:H,phone_number:X})});if(!e.ok)throw Error("could not create customer");let t=await e.json();ei(t.customer_id),em(60),eh(!0),ep(!1)}catch(e){console.log(e)}else ew("Please enter a valid email address.")},tk=async()=>{if(eF.test(H))try{ew(""),ea(!0);let e=await fetch("".concat(i,"/customer/create?otp_for=terms"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:Z,last_name:V,email:H,phone_number:X})});if(!e.ok)throw Error("could not create customer");let t=await e.json();ei(t.customer_id),em(60),eh(!0),ep(!1)}catch(e){console.log(e)}else ew("Please enter a valid email address.")},tS=async()=>{try{let e=await fetch("".concat(i,"/confirm-otp?customer_id=").concat(en,"&otp=").concat(ee,"&order_id=").concat(t[1]));if(!e.ok)throw Error("Could not confirm otp");let s=await e.json();"success"===s.status?(eZ(!0),eo(!1)):eo(!0)}catch(e){console.log(e)}},tC=async()=>{try{let e=await fetch("".concat(i,"/confirm-otp?customer_id=").concat(en,"&otp=").concat(eJ,"&order_id=").concat(t[1],"&otp_for=terms"));if(!e.ok)throw Error("Could not confirm otp");let s=await e.json();"success"===s.status?(tA(),tt(2),tr(e=>({...e,verification:!0})),ta(e=>({...e,phoneDetails:!0})),eH(!1)):eH(!0)}catch(e){console.log(e)}},tA=async()=>{try{let e=await fetch("".concat(i,"/create-order-folder/?order_id=").concat(t[1]),{method:"POST"});if(!e.ok)throw Error("Could not create order folder");let s=await e.json();eg(s.folder)}catch(e){console.log(e)}},tM=e=>{let{name:t,value:s}=e.target;ti({...tn,[t]:s}),to(e=>{let a={...e};return"oldIMEI"===t&&(s.trim()?15!==s.trim().length?a.oldIMEI="Old IMEI must be 15 digits":a.oldIMEI="":a.oldIMEI="Old IMEI is required"),"newIMEI"===t&&(s.trim()?15!==s.trim().length?a.newIMEI="New IMEI must be 15 digits":a.newIMEI="":a.newIMEI="New IMEI is required"),a})},tq=()=>{let e={};return tn.oldIMEI.trim()?tn.oldIMEI.length<15&&(e.oldIMEI="Old IMEI must be 15 digits"):e.oldIMEI="Old IMEI is required",tn.newIMEI.trim()?tn.newIMEI.length<15&&(e.newIMEI="New IMEI must be 15 digits"):e.newIMEI="New IMEI is required",to(e),console.log({newErrors:e}),0===Object.keys(e).length},tT=async()=>{if(tq())try{let e=await fetch("".concat(i,"/insert-images-in-order-detail?order_id=").concat(t[1],"&old_imei=").concat(tn.oldIMEI).concat(tn.newIMEI.length>0?"&new_imei=".concat(tn.newIMEI):"","&staff_id=").concat(eA),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(eb)});if(!e.ok)throw Error("Could not insert images in order detil");await e.json(),tt(3),tr(e=>({...e,phoneDetails:!0})),ta(e=>({...e,indemnity:!0}))}catch(e){console.log(e.message),I.Am.error(e.message)}},tO=async()=>{try{let e=await fetch("".concat(i,"/get-all-journey?order_id=").concat(t[1]));if(!e.ok)throw Error("Failed to submit answer");if(e.ok){let t=await e.json();eI(t)}}catch(e){console.log(e)}},tP=async()=>{try{if(!(await fetch("".concat(i,"/delete-order-detail/?id=").concat(eS),{method:"DELETE"})).ok)throw Error("Could not delete order detail")}catch(e){console.log(e)}},tD=e=>{let s=document.createElement("svg");q()(s,t[1],{format:"CODE128",width:1,height:20});let a=s.querySelector("text");a&&a.remove();let l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("style","font: 14px monospace"),l.setAttribute("text-anchor","middle"),l.setAttribute("x","44"),l.setAttribute("y",45),l.textContent="OID: ".concat(t[1]),s.appendChild(l);let r=s.outerHTML;return console.log(s),'\n      <div style="font-size: 10px; width: 25mm; height: 11mm; padding: 0; display: flex; align-items: center; justify-content: center; padding: 8px 0px 0px 0px; border:0.1px solid black; box-sizing:border-box">\n        '.concat(r,"\n      </div>\n    ")},tB=async e=>{if(""===tf){tm("Executive Name is required"),I.Am.error("Executive name is required");return}if(tm(!1),!e3.indemnityBond){I.Am.error("Please upload a signed copy of the indemnity bond");return}try{let t=await fetch("".concat(i,"/set-exchange-type"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_detail_id:eS,executive_id:tf,coupon_exchange:eW,img_url:e3.indemnityBond,customer_id:en})});if(!t.ok)throw Error("Could not set exchange type");let s=await t.json();if("success"!==s.status)throw Error(s.message);e(),tF(),setTimeout(()=>{ev(!0)},500)}catch(e){I.Am.error(e.message)}},tF=()=>{s.e(607).then(s.t.bind(s,8607,23)).then(e=>{(0,e.default)({printable:tD(e_.data),type:"raw-html",style:"\n            @page { \n              size: 25mm 14mm; \n              margin: 0; \n            } \n            body { \n              display: flex; \n              align-items: center; \n              justify-content: center; \n              height: 100%; \n            } \n          "})}).catch(e=>{console.error("Failed to load printJS:",e)})},tU=e=>{tt(e),0===e?(J(""),G(""),Y(""),W(""),et(""),eZ(!1),eV(""),B(e=>({...e,tnc:0})),em(0),ti({oldIMEI:"",newIMEI:""}),Q(""),ey([]),eL(0),eR(0),e5({}),e$(!0)):1===e?(ti({oldIMEI:"",newIMEI:""}),Q(""),ey([]),eL(0),eR(0),e5({}),e$(!0)):2===e&&(e5({}),e$(!0))},tL=async e=>{try{let t=await fetch("".concat(i,"/get-executive-by-staff?staff_id=").concat(e));if(!t.ok)throw Error("Could not get executive list");let s=await t.json();if("success"!==s.status)throw Error(s.message);th(s.data)}catch(e){I.Am.error(e.message)}};return k?(0,a.jsx)("div",{className:"w-screen h-screen flex justify-center  bg-white mt-40",children:(0,a.jsx)(h.Z,{color:"#42c8b7",loading:k,size:40,"aria-label":"Loading Spinner","data-testid":"loader"})}):M?(0,a.jsx)("div",{className:"w-screen h-screen flex justify-center  bg-white mt-40",children:(0,a.jsxs)("p",{className:"text-red-500",children:["Error: ",M]})}):o?(0,a.jsxs)("div",{className:"bg-white",children:[(0,a.jsx)(c(),{children:(0,a.jsx)("title",{children:"BuyBack - Sell your old ".concat(p," ").concat(L.name)})}),(0,a.jsx)("div",{className:"min-h-screen mb-8 mt-20 lg:mt-0 flex",children:(0,a.jsx)("div",{className:"w-screen justify-center px-4 flex",children:(0,a.jsxs)("div",{className:"max-w-screen-xl w-full grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col shadow-lg min-h-[300px] col-span-2 rounded-lg p-4 bg-white",children:[(0,a.jsxs)("div",{className:"w-full flex flex-col items-start mb-4",children:[(0,a.jsx)("p",{className:"text-xl font-semibold",children:"Tell us more about your device"}),(0,a.jsx)("p",{className:"text-gray-500 text-md font-semibold",children:"Please answer a few questions about your device."})]}),(0,a.jsx)("ol",{className:"space-y-8",children:O.map((e,t)=>(0,a.jsxs)("li",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"text-lg font-semibold",children:[(0,a.jsxs)("span",{className:"me-2",children:[t+1,"."]}),eq&&eO.has(e.question_id)&&(0,a.jsx)("span",{className:"border-l-4 border-red-500 rounded-l ps-2"}),e.description,1===e.set_base_value&&(0,a.jsx)("span",{className:"text-red-500",children:"*"}),eq&&eO.has(e.question_id)&&(0,a.jsx)("span",{className:"text-red-500 text-sm font-thin",children:"This is a required question"})]}),"binary"===e.question_type&&(0,a.jsx)("fieldset",{className:"mt-2 gap-x-2 grid grid-cols-2 md:grid-cols-2",children:e.options.map((t,s)=>(0,a.jsxs)("label",{id:"label-".concat(t.id),className:"bg-gray-100 ms-2 ps-2 md:ps-8 mb-3 py-1 rounded custom-radio border cursor-pointer",onClick:()=>tv(e.question_id,t.id),children:[(0,a.jsx)("input",{type:"checkbox",name:"question-".concat(e.question_id),checked:D[e.question_id]===t.id,onChange:()=>ty(e.question_id,t.id),value:t.id,className:"hidden"}),(0,a.jsx)("span",{className:"radio-custom"}),(0,a.jsx)("span",{className:"ms-3 flex items-start justify-center flex-col w-full",children:t.option_value})]},t.id))}),"select"===e.question_type&&(0,a.jsx)("fieldset",{className:"mt-2 space-x-2 grid grid-cols-1 md:grid-cols-2",children:e.options.map((t,s)=>(0,a.jsxs)("label",{id:"label-".concat(t.id),className:"bg-gray-100 ms-2 ps-8 mb-3  py-1 rounded custom-checkbox border cursor-pointer",onClick:()=>tv(e.question_id,t.id),children:[(0,a.jsx)(g.K,{color:"success",radius:"sm",isSelected:D[e.question_id]===t.id,onValueChange:()=>ty(e.question_id,t.id),onClick:()=>tv(e.question_id,t.id),className:"text-white"}),(0,a.jsxs)("span",{className:"ms-3 flex items-start justify-center flex-col w-full",children:[t.s3_image_url&&(0,a.jsx)(d(),{src:t.s3_image_url,width:100,height:100,alt:"Option image"}),t.option_value]})]},t.id))}),"multiselect"===e.question_type&&(0,a.jsx)("fieldset",{className:"mt-2 space-x-2 grid grid-cols-1 md:grid-cols-2",children:e.options.map(t=>{var s;return(0,a.jsxs)("label",{id:"label-".concat(t.id),className:"bg-gray-100 ms-2 ps-8 mb-3  py-1 rounded custom-checkbox border cursor-pointer",onClick:()=>tv(e.question_id,t.id),children:[(0,a.jsx)(g.K,{color:"success",radius:"sm",isSelected:null===(s=D[e.question_id])||void 0===s?void 0:s.includes(t.id),onValueChange:()=>{let s=D[e.question_id]||[],a=s.includes(t.id)?s.filter(e=>e!==t.id):[...s,t.id];B(t=>({...t,[e.question_id]:a}))},onClick:()=>tv(e.question_id,t.id),className:"text-white"}),(0,a.jsxs)("span",{className:"ms-3 flex items-start justify-center flex-col w-full",children:[t.s3_image_url&&(0,a.jsx)(d(),{src:t.s3_image_url,width:100,height:100,alt:"Option image"}),t.option_value]})]},t.id)})})]},e.question_id))}),eq&&(0,a.jsx)("p",{className:"text-red-500 font-semibold mb-4",children:eq}),(0,a.jsx)("button",{className:"rounded px-4 py-1 mt-2 bg-accent text-white disabled:bg-gray-300 disabled:hover:bg-gray-300 disabled:text-black",onClick:()=>{eE&&tI(t[1])},disabled:!eE,children:"Get exact value"})]}),(0,a.jsxs)("div",{className:"flex flex-col shadow-lg min-h-[300px] col-span-1 rounded-lg p-4 bg-white sticky top-20 max-h-[800px] overflow-y-scroll scrollbar-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d(),{src:(null==o?void 0:o.image_url)||"/refurbished.webp",height:75,width:75,alt:(null==o?void 0:o.name)||"Product Image"}),(0,a.jsx)("span",{className:" lg:ms-4 text-xl",children:L.name})]}),(0,a.jsx)("hr",{className:"my-4"}),(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsx)("span",{className:"text-xl font-semibold",children:"Device Appraisal:"})}),(0,a.jsx)("div",{children:(0,a.jsx)(r,{journeyData:e_})})]})]})})}),(0,a.jsx)(b.R,{isOpen:e6,onOpenChange:e9,isDismissable:!1,isKeyboardDismissDisabled:!0,size:"3xl",radius:"sm",classNames:{closeButton:"hidden"},scrollBehavior:"inside",children:(0,a.jsx)(y.A,{children:e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.k,{className:"flex flex-col gap-1",children:"Generate Order"}),(0,a.jsxs)(w.I,{children:[(0,a.jsxs)(A.v,{activeStep:te,className:"w-full py-4 mt-0 sticky -top-2 border shadow z-20 bg-white",connectorStyleConfig:{size:2,style:"dashed"},styleConfig:{activeBgColor:"#42c8b7",completedBgColor:"#319488"},children:[(0,a.jsx)(A.h,{onClick:()=>tU(0),label:"Confirm Price",completed:tl.price,active:ts.price}),(0,a.jsx)(A.h,{onClick:()=>tU(1),label:"Customer Verification",completed:tl.verification&&!(te<1),active:ts.verification,disabled:te<1}),(0,a.jsx)(A.h,{onClick:()=>tU(2),label:"Phone Details",completed:tl.phoneDetails&&!(te<2),active:ts.phoneDetails,disabled:te<2}),(0,a.jsx)(A.h,{onClick:()=>tU(3),label:"Indemnity Bond",completed:tl.indemnity&&!(te<3),active:ts.indemnity,disabled:te<3})]}),0===te&&(0,a.jsx)("div",{className:"w-full h-full md:h-fit bg-white pb-4 pt-1 relative flex flex-col justify-between",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"border border-gray-300 p-2 pb-4",children:[(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsxs)("span",{className:"text-xl font-bold accent",children:["Exact Value of ",L.name]})}),(0,a.jsx)("div",{className:"w-full flex flex-col justify-between ".concat(e1.has_cashback&&"yes"===D.exchange?" py-8":"py-3"),children:(0,a.jsx)("div",{className:"text-lg ",children:e1.has_cashback&&"yes"===D.exchange?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"flex justify-between w-full gap-x-4  text-base",children:[(0,a.jsx)("span",{children:"Actual Value:"}),(0,a.jsx)("span",{children:(0,v.fK)(R)})]}),(0,a.jsxs)("p",{className:"flex justify-between w-full gap-x-4 text-base",children:[(0,a.jsx)("span",{children:"Cashback: "}),(0,a.jsxs)("span",{children:["+"," ","yes"===D.exchange?(0,v.fK)(e1.cashback):(0,v.fK)(0)]})]}),(0,a.jsxs)("p",{className:"flex justify-between w-full gap-x-8 border-t border-gray-300 text-2xl mt-2",children:[(0,a.jsx)("span",{children:"Total Price: "}),(0,a.jsx)("span",{className:"font-bold accent",children:"yes"===D.exchange?(0,v.fK)(R+e1.cashback):(0,v.fK)(R)})]})]}):(0,a.jsx)("p",{className:"flex justify-center w-full gap-x-8 border-gray-300 text-2xl mt-2",children:(0,a.jsx)("span",{className:"font-bold",children:(0,v.fK)(R)})})})}),(0,a.jsx)("div",{className:"w-full flex flex-col items-center justify-end",children:(0,a.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"w-full grid gap-y-0.5 relative",children:[e1.has_cashback&&(0,a.jsxs)(g.K,{radius:"none",color:"success",classNames:{icon:"text-white",wrapper:"rounded"},isSelected:"yes"===D.exchange,onChange:()=>ty("exchange","yes"),isRequired:!0,children:["Apply for cashback",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(!e1.has_cashback||"yes"===D.exchange)&&(0,a.jsxs)(g.K,{radius:"none",color:"success",classNames:{icon:"text-white",wrapper:"rounded",base:"relative"},isSelected:"yes"===D.satisfied,onChange:()=>ty("satisfied","yes"),isRequired:!0,children:["The customer is satisfied with the price displayed",(0,a.jsx)("span",{className:"text-red-400",children:"*"}),!el&&(0,a.jsx)("span",{className:"block absolute text-red-500 -bottom-4 text-sm",children:"Please check above checkbox"})]})]})})]}),(0,a.jsxs)("div",{className:"w-full mt-5 flex justify-end gap-x-2 mb-4",children:[(0,a.jsx)(N.A,{radius:"sm",color:"danger",variant:"light",onPress:()=>{e(),tb(),tP()},className:"rounded",children:"Cancel"}),(!e1.has_cashback||"yes"===D.exchange)&&(0,a.jsx)(N.A,{radius:"sm",color:"success",onPress:()=>{"yes"===D.satisfied?(tt(e=>e+1),tr(e=>({...e,price:!0})),ta(e=>({...e,verification:!0}))):er(!1)},className:"text-white rounded",disabled:"yes"!==D.exchange,children:"Continue with verification"})]})]})}),1===te&&(0,a.jsxs)("div",{className:"w-full h-full bg-white px-2 md:px-4 pb-4 pt-1 border border-gray-300 mb-4 relative grid grid-cols-1 lg:grid-cols-2 z-20 lg:grid-rows-none lg:space-x-2 lg:space-y-2",children:[(0,a.jsx)("span",{className:"text-2xl accent mb-3 lg:col-span-2 flex justify center",children:(0,a.jsx)("span",{className:"text-center w-full",children:"Customer Verification"})}),(0,a.jsxs)("span",{className:"w-full flex flex-col lg:px-2",children:[(0,a.jsxs)("span",{children:["First Name",(0,a.jsx)("span",{className:"text-red-500 ",children:"*"})]}),(0,a.jsx)("input",{type:"text",required:!0,className:"py-1 ps-3 pe-8 outline-none bg-transparent border rounded mt-0.5 lg:mt-0",spellCheck:!1,value:Z,onChange:e=>J(e.target.value)})]}),(0,a.jsxs)("span",{className:"w-full flex flex-col lg:px-2",children:[(0,a.jsxs)("span",{children:["Last Name",(0,a.jsx)("span",{className:"text-red-500 ",children:"*"})]}),(0,a.jsx)("input",{type:"text",required:!0,className:"py-1 ps-3 pe-8 outline-none bg-transparent border rounded mt-0.5 lg:mt-0",spellCheck:!1,value:V,onChange:e=>G(e.target.value)})]}),(0,a.jsxs)("span",{className:" w-full flex flex-col lg:px-2",children:[(0,a.jsxs)("span",{children:["Email",(0,a.jsx)("span",{className:"text-red-500 ",children:"*"})]}),(0,a.jsx)("input",{type:"email",required:!0,className:"py-1 ps-3 pe-8 outline-none bg-transparent border rounded mt-0.5 lg:mt-0",spellCheck:!1,value:H,onChange:e=>Y(e.target.value)}),(0,a.jsx)("p",{className:"".concat(ej.length>0?"visible":"invisible"," block text-red-500 text-sm lg:text-md"),children:ej})]}),(0,a.jsxs)("span",{className:"w-full flex flex-col lg:px-2 ",children:[(0,a.jsxs)("span",{children:["Phone",(0,a.jsx)("span",{className:"text-red-500 ",children:"*"})]}),(0,a.jsx)("input",{required:!0,type:"number",maxLength:10,className:"py-1 ps-3 pe-8 outline-none bg-transparent border rounded mt-0.5 lg:mt-0",spellCheck:!1,value:X,onChange:e=>W(e.target.value),onKeyDown:e=>{("ArrowUp"===e.key||"ArrowDown"===e.key)&&e.preventDefault()}})]}),!eK&&(0,a.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2",children:[(0,a.jsx)("span",{className:"w-full lg:col-span-2",children:(0,a.jsxs)("div",{className:"block w-fit ml-auto",children:[(0,a.jsx)(N.A,{variant:"light",className:"text-xs accent  disabled:text-gray-400 rounded",disabled:eu||ex||10!==X.length||Z.length<3||H.length<5,onClick:()=>{(!eu||ex)&&(tE(),em(60),eh(!0))},children:eu?"Resend OTP (".concat(Math.floor(ed/60),":").concat(ed%60,")"):"Resend OTP"}),(0,a.jsx)(N.A,{className:"px-3 ms-4 rounded bg-accent text-white disabled:bg-gray-300 disabled:hover:bg-gray-300 ring-accent",disabled:10!==X.length||Z.length<3||H.length<5||!ex,onClick:()=>{tE()},children:"Send OTP"})]})}),es&&(0,a.jsxs)("div",{className:"w-full lg:col-span-2 mt-2",children:["OTP",(0,a.jsx)(u.Z,{value:ee,onChange:et,numInputs:6,renderSeparator:(0,a.jsx)("span",{children:"\xa0"}),inputStyle:"border rounded px-1 w-8 outline-none",renderInput:e=>(0,a.jsx)("input",{...e})}),(0,a.jsx)("span",{className:"".concat(ec?"visible":"invisible"," text-red-500 text-sm"),children:"Incorrect OTP"})]}),(0,a.jsx)("span",{className:" lg:col-span-2 ",children:es&&(0,a.jsx)(N.A,{className:"px-3 py-1 rounded bg-accent  text-white lg:col-span-2 disabled:bg-gray-300 block ml-auto",onClick:()=>{tS()},disabled:6!==ee.length,children:"Confirm OTP"})})]}),eK&&(0,a.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2",children:[(0,a.jsx)("span",{onClick:()=>{ty("tnc",1),1!==D.tnc?(tk(),eX(!0)):eX(!1)},children:(0,a.jsx)(g.K,{radius:"none",color:"success",classNames:{icon:"text-white",wrapper:"rounded",base:"my-0.5"},isSelected:1===D.tnc,onChange:()=>{ty("tnc",1),1!==D.tnc?(tk(),eX(!0)):eX(!1)},isRequired:!0,children:(0,a.jsxs)("div",{children:["Accept"," ",(0,a.jsx)("a",{href:"http://",target:"_blank",rel:"noopener noreferrer",className:"inline accent",children:"Terms and Conditions"})]})})}),eY&&(0,a.jsxs)("span",{className:"} lg:col-span-2 grid grid-cols-1 lg:grid-cols-2",children:[(0,a.jsxs)("span",{className:"w-full lg:col-span-2 flex flex-col ",children:["OTP Again",(0,a.jsx)(u.Z,{value:eJ,onChange:eV,numInputs:6,renderSeparator:(0,a.jsx)("span",{children:"\xa0"}),inputStyle:"border rounded px-1 w-8 outline-none",renderInput:e=>(0,a.jsx)("input",{...e})}),(0,a.jsx)("span",{className:"".concat(eG?"visible":"invisible"," text-red-500 text-sm"),children:"Wrong OTP"})]}),(0,a.jsx)("span",{className:"lg:col-span-2",children:(0,a.jsx)(N.A,{className:"block ml-auto px-3 py-1 rounded bg-accent text-white lg:col-span-2 disabled:bg-gray-300 ",onClick:()=>{tC()},disabled:6!==eJ.length,children:"Confirm OTP Again"})})]})]})]}),2===te&&(0,a.jsxs)("div",{className:"w-full max-h-full bg-white px-2 md:px-4 pb-4 pt-1 relative mb-10 flex flex-col items-start justify-start border",children:[(0,a.jsx)("span",{className:"text-2xl accent mb-3",children:"Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 lg:gap-x-2 gap-y-2 w-full",children:[(0,a.jsxs)("div",{className:"w-full flex flex-col relative ",children:[(0,a.jsxs)("span",{children:["Old IMEI ",(0,a.jsx)("span",{className:"text-red-500 ",children:"*"})]}),(0,a.jsx)("input",{type:"number",name:"oldIMEI",value:tn.oldIMEI,onChange:e=>tM(e),className:"py-1 ps-3 pe-8 outline-none bg-transparent border rounded ".concat(tc.oldIMEI?"border-red-300":""),maxLength:15}),tc.oldIMEI&&(0,a.jsx)("span",{className:"text-red-500 relative top-0.5 text-xs",children:tc.oldIMEI})]}),(0,a.jsxs)("div",{className:"w-full flex flex-col relative",children:[(0,a.jsxs)("span",{children:["New IMEI ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"number",name:"newIMEI",value:tn.newIMEI,onChange:e=>tM(e),className:"py-1 ps-3 pe-8 outline-none bg-transparent border rounded ".concat(tc.newIMEI?"border-red-300":""),maxLength:15}),tc.newIMEI&&(0,a.jsx)("span",{className:"text-red-500 relative top-0.5 text-xs",children:tc.newIMEI})]})]}),(0,a.jsxs)("div",{className:"w-full flex flex-col items-center border border-gray-300 py-2 mt-2",children:[(0,a.jsx)("span",{className:"text-lg font-semibold",children:"Upload User Documents"}),(0,a.jsx)("div",{className:"w-full flex justify-center",children:(0,a.jsxs)("span",{className:"grid grid-cols-2 w-2/3 items-center mt-2 h-full space-x-1",children:[(0,a.jsxs)("span",{className:"h-full w-full flex flex-col ",children:[(0,a.jsxs)("span",{className:"text-center",children:["Front Aadhar"," ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("span",{className:"h-40 max-h-[190px] w-full border-2 border-dashed border-gray-400 overflow-hidden",children:(0,a.jsx)(n.Z,{maxNumber:1,folderName:ef,s3imageUrlArray:eb,setS3imageUrlArray:ey,tag:"front_aadhar",imageName:eD,setImageName:eB,setAadharCount:eL,aadharCount:eU})})]}),(0,a.jsxs)("span",{className:"h-full w-full flex flex-col",children:[(0,a.jsxs)("span",{className:"text-center",children:["Back Aadhar"," ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("span",{className:"h-40 max-h-[190px] w-full border-2 border-dashed border-gray-400 overflow-hidden",children:(0,a.jsx)(n.Z,{maxNumber:1,folderName:ef,s3imageUrlArray:eb,setS3imageUrlArray:ey,tag:"back_aadhar",imageName:eD,setImageName:eB,setAadharCount:eL,aadharCount:eU})})]})]})})]}),(0,a.jsxs)("div",{className:"w-full flex flex-col items-center border border-gray-300 py-2 mt-2",children:[(0,a.jsx)("span",{className:"text-lg font-semibold",children:"Upload Invoice"}),(0,a.jsx)("div",{className:"w-full flex justify-center",children:(0,a.jsxs)("span",{className:"grid grid-cols-2 w-2/3 items-center mt-2 h-full space-x-1",children:[(0,a.jsxs)("span",{className:"h-full w-full flex flex-col ",children:[(0,a.jsx)("span",{className:"text-center",children:"Invoice Front"}),(0,a.jsx)("span",{className:"h-40 max-h-[150px] w-full border-2 border-dashed border-gray-400 overflow-hidden",children:(0,a.jsx)(n.Z,{maxNumber:1,folderName:ef,s3imageUrlArray:eb,setS3imageUrlArray:ey,tag:"front_invoice",imageName:eD,setImageName:eB})})]}),(0,a.jsxs)("span",{className:"h-full w-full flex flex-col",children:[(0,a.jsx)("span",{className:"text-center",children:"Invoice Back"}),(0,a.jsx)("span",{className:"h-40 max-h-[150px] w-full border-2 border-dashed border-gray-400 overflow-hidden",children:(0,a.jsx)(n.Z,{maxNumber:1,folderName:ef,s3imageUrlArray:eb,setS3imageUrlArray:ey,tag:"back_invoice",imageName:eD,setImageName:eB})})]})]})})]}),(0,a.jsxs)("div",{className:"w-full flex flex-col items-center border border-gray-300 pt-2 pb-5 px-2 mt-2",children:[(0,a.jsx)("span",{className:"text-lg font-semibold",children:"Upload Photos of Mobile"}),(0,a.jsx)("div",{className:"w-full flex justify-center",children:(0,a.jsx)("span",{className:"grid grid-cols-3 w-full  mt-2 h-full space-x-1",children:["Top","Bottom","Left","Right","Front","Back"].map(e=>(0,a.jsxs)("span",{className:"flex flex-col ",children:[(0,a.jsxs)("span",{className:"text-center",children:[e," ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("span",{className:"h-40 w-full border-2 border-dashed border-gray-400 overflow-hidden",children:(0,a.jsx)(n.Z,{maxNumber:1,folderName:ef,s3imageUrlArray:eb,setS3imageUrlArray:ey,tag:e,imageName:eD,setImageName:eB,phoneCount:ez,setPhoneCount:eR})})]},e))})})]}),(0,a.jsx)("div",{className:"w-full flex justify-end items-center",children:(0,a.jsx)(N.A,{className:"bg-accent py-1 px-3 rounded text-white mt-3 disabled:bg-gray-400 disabled:hover:bg-gray-400",disabled:eU<2||ez<6,onClick:tT,children:"Submit"})})]}),3===te&&(0,a.jsxs)("div",{className:"w-full bg-white px-4 pb-4 pt-1 border border-gray-300 relative mb-10 flex flex-col items-start justify-start",children:[(0,a.jsx)("span",{className:"text-2xl accent mb-3",children:"Exchange/Sell"}),(0,a.jsxs)("div",{className:"grid gap-x-4 gap-y-2 w-full",children:[(0,a.jsxs)("div",{className:"w-full flex flex-col relative",children:[(0,a.jsxs)("span",{children:["Executive:"," ","true"===tx&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),"false"===tx&&(0,a.jsx)("input",{value:$,className:"py-1 ps-3 pe-8 outline-none border rounded bg-gray-100 capitalize",onChange:()=>null}),"true"===tx&&(0,a.jsxs)("select",{name:"execName",id:"execName",className:"py-1 ps-3 pe-8 outline-none border rounded",value:tf,onChange:e=>tg(e.target.value),children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Select an executive"}),tu.map((e,t)=>(0,a.jsx)("option",{value:null==e?void 0:e.executive_id,className:"capitalize",children:null==e?void 0:e.name},t))]}),td&&(0,a.jsx)("span",{className:"text-red-500 relative top-0.5 text-xs",children:td})]}),(0,a.jsx)("div",{className:"relative flex gap-x-3 items-center",children:(0,a.jsx)(g.K,{radius:"none",color:"success",classNames:{icon:"text-white",wrapper:"rounded"},isSelected:eW,onValueChange:e$,children:"Do you wish to exchange your device for another device?"})}),(0,a.jsx)(_,{buyerData:eQ}),(0,a.jsx)("p",{className:"text-lg mt-2",children:"Upload Signed Indemnity Bond"}),(0,a.jsx)("div",{className:"border-2 border-dashed relative h-60 grid place-items-center overflow-scroll scrollbar-hidden mb-4",children:(0,a.jsx)(C,{maxNumber:1,s3imageUrlArray:e3,setS3imageUrlArray:e5,tag:"indemnityBond",imageName:e4,setImageName:e8})}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("button",{className:"block ms-auto px-4 py-2 rounded bg-accent text-white",onClick:()=>tB(e),children:"Submit"})})]})]})]})]})})}),eN&&(0,a.jsx)("div",{className:"flex w-screen h-screen fixed top-0 right-0 z-50 overflow-hidden backdrop-blur-sm justify-center items-center bg-black bg-opacity-50",children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"w-full md:w-[500px] h-auto bg-white px-6 md:px-10 py-10 rounded-lg relative shadow-xl flex flex-col items-center justify-center animate-fade-in",children:[(0,a.jsx)("span",{className:"absolute top-4 right-4 text-red-500 cursor-pointer ",onClick:()=>{e.push("/")},children:(0,a.jsx)("i",{className:"bi bi-x-lg text-2xl"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("i",{className:"bi bi-check-circle text-green-500 text-5xl mb-4"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-800",children:"Order Created Successfully"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2 text-center",children:"Your order has been created successfully."})]})]})})]}):(0,a.jsx)("div",{className:"w-screen min-h-screen flex justify-center items-center",children:(0,a.jsx)("p",{children:"No product data available"})})}}},function(e){e.O(0,[260,242,620,678,253,427,888,774,179],function(){return e(e.s=597)}),_N_E=e.O()}]);