(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{9752:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/warehouse",function(){return s(9757)}])},2115:function(e,t,s){"use strict";var a=s(5893);s(7294),t.Z=e=>{let{itemsPerPage:t,setItemsPerPage:s,currentPage:c,setCurrentPage:n,totalEntries:l,totalPages:r}=e;return(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("label",{htmlFor:"items",className:"text-sm",children:"Items per page:"}),(0,a.jsx)("select",{id:"items",className:"border border-gray-300 rounded-md py-1 px-2 outline-none",value:t,onChange:e=>{s(parseInt(e.target.value,10)),n(1)},children:[15,20,25,30,35].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-3 md:mt-0",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-700",children:[t*c-t+1," to"," ",t*c<l?t*c:l," ","of ",l]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("button",{onClick:()=>n(1),disabled:1===c,className:"p-2 rounded-full ".concat(c>1?"text-accent":"text-gray-400"),children:(0,a.jsx)("i",{className:"bi bi-chevron-bar-left text-lg"})}),(0,a.jsx)("button",{onClick:()=>n(e=>e>1?e-1:e),disabled:1===c,className:"p-2 rounded-full ".concat(c>1?"text-accent":"text-gray-400"),children:(0,a.jsx)("i",{className:"bi bi-chevron-left text-lg"})}),(0,a.jsx)("button",{onClick:()=>n(e=>e<r?e+1:e),disabled:c===r,className:"p-2 rounded-full ".concat(c<r?"text-accent":"text-gray-400"),children:(0,a.jsx)("i",{className:"bi bi-chevron-right text-lg"})}),(0,a.jsx)("button",{onClick:()=>n(r),disabled:c===r,className:"p-2 rounded-full ".concat(c<r?"text-accent":"text-gray-400"),children:(0,a.jsx)("i",{className:"bi bi-chevron-bar-right text-lg"})})]})]})]})}},4625:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var a=s(7294);function c(e,t){let[s,c]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let s=setTimeout(()=>{c(e)},t);return()=>{clearTimeout(s)}},[e,t]),s}},9757:function(e,t,s){"use strict";s.r(t);var a=s(5893),c=s(7294),n=s(4625),l=s(2115),r=s(1163),i=s(9134),d=s(5066);s(1664);var o=s(373),u=s(9008),x=s.n(u);t.default=()=>{let e=(0,r.useRouter)(),[t,s]=(0,c.useState)(null),[u,h]=(0,c.useState)(10),[m,p]=(0,c.useState)(1),[f,g]=(0,c.useState)(null),[j,N]=(0,c.useState)(null),[b,y]=(0,c.useState)(""),v=(0,n.Z)(b,500),[_,w]=(0,c.useState)(!1),[S,C]=(0,c.useState)(""),k=async()=>{let e=localStorage.getItem("warehouse_id");try{w(!0);let t=await fetch("".concat("https://buybackservice.unicornstore.in","/get-all-shipments?page=").concat(m,"&per_page=").concat(u,"&sort_desc=false&search=").concat(b,"&warehouse_id=").concat(e));if(!t.ok)throw Error("Could not get shipment Res");let a=await t.json();s(a.data),N(a.total_count),g(Math.ceil(a.total_count/u)),a.data.forEach(e=>{C(t=>({...t,[e.shipment_id]:e.status}))})}catch(e){i.Am.error(e.message,{toastId:"getshipmentres"})}finally{w(!1)}};return(0,c.useEffect)(()=>{k()},[]),(0,c.useEffect)(()=>{""!==v&&(p(1),k())},[v,b]),(0,a.jsxs)("div",{className:"flex justify-center bg-gray-100 min-h-screen",children:[(0,a.jsx)(x(),{children:(0,a.jsx)("title",{children:"BuyBack - Warehouse"})}),(0,a.jsx)("div",{className:"container max-w-screen-xl",children:(0,a.jsxs)("div",{className:"flex flex-col bg-white p-4 my-8 rounded shadow justify-center space-y-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{className:"text-sm text-gray-700",children:"Search by Customer Name, Final Price or Product Name"}),(0,a.jsx)("span",{className:"w-full grid grid-cols-1 md:grid-cols-6 md:space-x-2",children:(0,a.jsx)("input",{type:"text",className:"border border-gray-400 py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-[#42c8b7] col-span-6",name:"search-bar",value:b,onChange:e=>y(e.target.value),spellCheck:!1,autoComplete:"off",placeholder:"Search by Customer Name, Final Price or Product Name"})})]}),t&&t.length>0?(0,a.jsxs)("table",{className:"min-w-full table-auto bg-white rounded overflow-hidden shadow",children:[(0,a.jsx)("thead",{className:"bg-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-center py-2.5",children:"Shipment ID"}),(0,a.jsx)("th",{className:"text-center py-2.5",children:"Store"}),(0,a.jsx)("th",{className:"text-center py-2.5",children:"Shipping Class"}),(0,a.jsx)("th",{className:"text-center py-2.5",children:"Requested On"}),(0,a.jsx)("th",{className:"text-center py-2.5",children:"Status"}),(0,a.jsx)("th",{className:"text-center py-2.5",children:"Weight"}),(0,a.jsx)("th",{className:"text-center py-2.5",children:"Dimensions"})]})}),(0,a.jsx)("tbody",{className:"divide-y",children:t.map((t,s)=>(0,a.jsxs)("tr",{className:"divide-x hover:bg-gray-100 cursor-pointer",onClick:()=>e.push("/warehouse/shipment/".concat(t.shipment_id)),children:[(0,a.jsx)("td",{className:"py-1.5 text-center capitalize",children:t.shipment_id}),(0,a.jsx)("td",{className:"py-1.5 text-center capitalize",children:t.store}),(0,a.jsx)("td",{className:"py-1.5 text-center capitalize",children:t.shipping_class}),(0,a.jsx)("td",{className:"py-1.5 text-center capitalize",children:t.shipping_requested_date?(0,d.a)(t.shipping_requested_date):"-"}),(0,a.jsx)("td",{className:"py-1.5 text-center capitalize",children:t.status}),(0,a.jsx)("td",{className:"py-1.5 text-center capitalize",children:t.weight_in_kg}),(0,a.jsx)("td",{className:"py-1.5 text-center",children:Object.values(t.box_dimensions).join(" x ")})]},s))})]}):_?(0,a.jsx)("div",{className:"flex w-full justify-center",children:(0,a.jsx)(o.Z,{color:"#42c8b7",loading:_,size:40,"aria-label":"Loading Spinner","data-testid":"loader"})}):(0,a.jsx)("div",{className:"w-full border py-4 text-center text-red-500 font-semibold",children:"No entries to show!"}),(0,a.jsx)(l.Z,{itemsPerPage:u,setItemsPerPage:h,currentPage:m,setCurrentPage:p,totalEntries:j,totalPages:f})]})})]})}},9008:function(e,t,s){e.exports=s(7828)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=9752)}),_N_E=e.O()}]);