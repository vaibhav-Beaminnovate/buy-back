(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[651],{777:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/liquidator/profile/myAuctions",function(){return t(9512)}])},91:function(e,s,t){"use strict";var a=t(5893),n=t(7294);s.Z=e=>{let{closingTime:s,withColon:t}=e,[c,r]=(0,n.useState)(i(s));function i(e){let s=new Date,t=new Date(e)-s;if(t<=0)return{days:0,hours:0,minutes:0,seconds:0};let a=Math.floor(t/1e3%60).toString().padStart(2,"0"),n=Math.floor(t/6e4%60).toString().padStart(2,"0"),c=Math.floor(t/36e5%24).toString().padStart(2,"0");return{days:Math.floor(t/864e5).toString().padStart(2,"0"),hours:c,minutes:n,seconds:a}}return((0,n.useEffect)(()=>{let e=setInterval(()=>{r(i(s))},1e3);return()=>clearInterval(e)},[s]),0===c.hours&&0===c.minutes&&0===c.minutes&&0===c.seconds)?(0,a.jsx)("span",{children:"Auction Ended"}):!0===t?(0,a.jsxs)("span",{className:"grid grid-cols-4 justify-center gap-y-2 w-96",children:[(0,a.jsxs)("span",{className:"text-center",children:[c.days+":"," "]}),(0,a.jsxs)("span",{className:"text-center",children:[c.hours+":"," "]}),(0,a.jsxs)("span",{className:"text-center",children:[c.minutes+":"," "]}),(0,a.jsx)("span",{className:"text-center",children:c.seconds}),(0,a.jsx)("span",{className:"text-sm text-center text-gray-400",children:"Days"}),(0,a.jsx)("span",{className:"text-sm text-center text-gray-400",children:"Hours"}),(0,a.jsx)("span",{className:"text-sm text-center text-gray-400",children:"Minutes"}),(0,a.jsx)("span",{className:"text-sm text-center text-gray-400",children:"Seconds"})]}):(0,a.jsxs)("span",{children:[c.days>0?c.days+"d":""," ",c.days>0||c.hours>0?c.hours+"h":""," ",c.hours>0||c.minutes>0?c.minutes+"m":""," ",c.minutes>0||c.seconds>0?c.seconds+"s":""]})}},6828:function(e,s,t){"use strict";var a=t(5893),n=t(7294);s.Z=e=>{let{options:s,placeholder:t,setCurrentOption:c}=e,[r,i]=(0,n.useState)(!1),[l,o]=(0,n.useState)(t),d=e=>{o(e),c(e),i(!1)};return(0,a.jsxs)("div",{className:"relative inline-block text-left",onMouseLeave:()=>i(!1),children:[(0,a.jsxs)("button",{type:"button",onMouseEnter:()=>i(!0),className:"inline-flex w-full justify-between px-2 py-1 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm ring-accent",children:[l,(0,a.jsx)("i",{className:"bi ".concat(r?"bi-chevron-up":"bi-chevron-down"," ml-2")})]}),r&&(0,a.jsx)("div",{className:"absolute right-0 w-full origin-top-right bg-white border border-gray-300 rounded-md shadow-lg z-50",children:(0,a.jsx)("div",{className:"py-1",children:s.map((e,s)=>(0,a.jsx)("button",{onClick:()=>d(e),className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 w-full text-left",children:e},s))})})]})}},9512:function(e,s,t){"use strict";t.r(s);var a=t(5893),n=t(6828),c=t(1664),r=t.n(c),i=t(7294),l=t(91),o=t(9134),d=t(5675),m=t.n(d),x=t(1163),u=t(5066),h=t(9008),p=t.n(h);s.default=()=>{let e=(0,x.useRouter)(),[s,t]=(0,i.useState)(null),[c,d]=(0,i.useState)("list"),[h,j]=(0,i.useState)(!1),[f,g]=(0,i.useState)(!1),[b,N]=(0,i.useState)(1),[y,w]=(0,i.useState)(1),[v,_]=(0,i.useState)(10),[S,k]=(0,i.useState)("Lot Number"),[C,L]=(0,i.useState)("auction_id"),[B,E]=(0,i.useState)(!1),M=(0,u.dQ)(),A=e=>{N(e)};(0,i.useEffect)(()=>{"false"===localStorage.getItem("completed_registration")&&o.Am.warn("Registration not complete"),I()},[]),(0,i.useEffect)(()=>{"Lot Number"===S&&(L("auction_id"),E(!1)),"Starting Bid"===S&&(L("starting_price"),E(!1)),"Highest Bid"===S&&(L("current_price"),E(!0)),"Lowest Bid"===S&&(L("current_price"),E(!1)),"Lowest Bid"===S&&L("current_price"),"Highest Bid"===S&&E(!0)},[S]),(0,i.useEffect)(()=>{I()},[b,v,C,B]);let I=async()=>{j(!0);try{let e=localStorage.getItem("liquidator_id"),s=await fetch("".concat("https://buybackservice.unicornstore.in","/get-liquidators-auctions?liquidator_id=").concat(e,"&page=").concat(b,"&per_page=").concat(v,"&sort_by=").concat(C,"&sort_desc=").concat(B),{headers:{Authorization:M}});if(!s.ok)throw Error("Could not get auctions");let a=await s.json();t(a.data),w(Math.ceil(a.total_count/v)),j(!1)}catch(e){console.log(e),j(!1),g(!0)}};return f?(0,a.jsx)("div",{className:"h-screen flex justify-center mt-40",children:(0,a.jsx)("span",{className:"text-red-500 text-xl",children:"Something went wrong!"})}):(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(p(),{children:(0,a.jsx)("title",{children:"BuyBack - My Auctions"})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:flex sm:flex-row sm:justify-evenly sm:space-x-4 space-y-2 sm:space-y-0 bg-gray-100 p-4 rounded-md",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:space-x-2 space-y-1 sm:space-y-0 justify-center",children:[(0,a.jsx)("span",{className:"text-gray-700 text-sm",children:"Sort:"}),(0,a.jsx)(n.Z,{options:["Lot Number","Highest Bid","Lowest Bid"],placeholder:"Lot Number",className:"w-full sm:w-auto",setCurrentOption:k})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:space-x-2 space-y-1 sm:space-y-0 justify-center",children:[(0,a.jsx)("span",{className:"text-gray-700 text-sm",children:"Per Page:"}),(0,a.jsx)(n.Z,{options:[10,20,30,40,50],placeholder:"10",className:"w-full sm:w-auto",setCurrentOption:_})]}),(0,a.jsxs)("div",{className:"flex-col sm:flex-row items-center sm:space-x-2 space-y-1 sm:space-y-0 justify-center hidden sm:flex",children:[(0,a.jsx)("span",{className:"text-gray-700 text-sm",children:"View:"}),(0,a.jsxs)("button",{className:"p-2 border border-gray-300 rounded hover:bg-[#54ffe925] flex items-center justify-center ring-accent ".concat("list"===c?"bg-[#54ffe925]":""),onClick:()=>d("list"),children:[(0,a.jsx)("i",{className:"bi bi-list-ul accent text-lg"}),(0,a.jsx)("span",{className:"ml-1 text-sm",children:"List"})]}),(0,a.jsxs)("button",{className:"p-2 border border-gray-300 rounded hover:bg-[#54ffe925] flex items-center justify-center ring-accent ".concat("grid"===c?"bg-[#54ffe925]":""),onClick:()=>d("grid"),children:[(0,a.jsx)("i",{className:"bi bi-grid accent text-lg"}),(0,a.jsx)("span",{className:"ml-1 text-sm",children:"Grid"})]})]}),(0,a.jsxs)("div",{className:"col-span-2 grid grid-cols-2 gap-x-2 sm:hidden",children:[(0,a.jsxs)("button",{className:"p-2 border border-gray-300 rounded hover:bg-[#54ffe925] flex items-center justify-center",onClick:()=>d("list"),children:[(0,a.jsx)("i",{className:"bi bi-list-ul accent text-lg"}),(0,a.jsx)("span",{className:"ml-1 text-sm",children:"List"})]}),(0,a.jsxs)("button",{className:"p-2 border border-gray-300 rounded hover:bg-[#54ffe925] flex items-center justify-center",onClick:()=>d("grid"),children:[(0,a.jsx)("i",{className:"bi bi-grid accent text-lg"}),(0,a.jsx)("span",{className:"ml-1 text-sm",children:"Grid"})]})]})]}),"grid"===c?(0,a.jsx)("div",{className:"flex flex-wrap gap-y-4",children:(null==s?void 0:s.length)!==0?s&&s.map((e,s)=>{var t,n;return(0,a.jsx)(r(),{href:"/liquidator/auction/".concat(e.auction_id),className:"lg:w-1/4 md:w-1/2 p-4 w-full",children:(0,a.jsxs)("div",{className:"shadow-md p-4 bg-white hover:bg-[#42c8b725] hover:shadow-lg rounded-lg transition-all duration-300",children:[(0,a.jsx)("span",{className:"flex justify-center items-center relative h-48 rounded-lg overflow-hidden shadow-sm",children:(null===(t=e.images[0])||void 0===t?void 0:t.s3_image_url)?(0,a.jsx)(m(),{alt:"ecommerce",className:"object-cover object-center w-full rounded h-24 sm:h-auto",src:null===(n=e.images[0])||void 0===n?void 0:n.s3_image_url,width:150,height:30}):(0,a.jsx)(m(),{alt:"ecommerce",className:"object-cover object-center p-16 w-full rounded h-24 sm:h-auto",src:"/default.webp",width:150,height:30})}),(0,a.jsxs)("div",{className:"mt-4 flex flex-col items-center text-center",children:[(0,a.jsx)("h2",{className:"text-gray-800 title-font text-xl font-semibold mb-2",children:e.auction_name}),(0,a.jsxs)("p",{className:"text-gray-700 font-medium mb-1",children:["Current Bid:"," ",(0,a.jsx)("span",{className:"accent font-semibold",children:(0,u.fK)(e.current_price)})]}),(0,a.jsxs)("p",{className:"text-gray-700 font-medium mb-1",children:["My Bid:"," ",(0,a.jsx)("span",{className:"accent font-semibold",children:(0,u.fK)(e.your_bid)})]}),(0,a.jsxs)("p",{className:"text-gray-700 font-medium mt-4",children:["Time Left:"," ",(0,a.jsx)("span",{className:"accent font-semibold",children:(0,a.jsx)(l.Z,{closingTime:e.closing_time})})]}),(0,a.jsxs)("p",{className:"text-gray-600 mt-2",children:[(0,a.jsx)("span",{className:"sm:hidden",children:"Status"}),(0,a.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full ".concat(e.auction_won?" text-green-500":" text-red-500"),children:"closed"===e.status?e.auction_won?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"bi bi-trophy-fill mr-1"})," Won"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"bi bi-x-circle-fill mr-1"})," ","Lost"]}):(0,a.jsx)("p",{children:"Auction Ongoing"})})]})]})]})},s)}):(0,a.jsxs)("div",{className:"w-full border p-4 mt-6 text-center ",children:[(0,a.jsx)("p",{className:"bi bi-exclamation-triangle text-3xl text-gray-500"}),(0,a.jsx)("div",{className:"",children:"You have not participated in any auctions!"})]})}):(null==s?void 0:s.length)!==0?(0,a.jsx)("div",{className:"mt-5 border p-4",children:(0,a.jsxs)("table",{className:"w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"hidden sm:table-row border-b",children:[(0,a.jsx)("th",{className:"text-center p-2",children:"Auction ID"}),(0,a.jsx)("th",{className:"text-center p-2 col-span-2",children:"Image"}),(0,a.jsx)("th",{className:"text-center p-2 col-span-2",children:"Name"}),(0,a.jsx)("th",{className:"text-center p-2",children:"Current Bid"}),(0,a.jsx)("th",{className:"text-center p-2",children:"My Bid"}),(0,a.jsx)("th",{className:"text-center p-2",children:"Time Left"}),(0,a.jsx)("th",{className:"text-center p-2",children:"Status"})]})}),(0,a.jsx)("tbody",{children:s&&s.map((s,t)=>{var n,c;return(0,a.jsxs)("tr",{className:"border-b hover:bg-[#42c8b725] transition-all cursor-pointer",onClick:()=>e.push("/liquidator/auction/".concat(s.auction_id)),children:[(0,a.jsxs)("td",{className:"text-center p-2",children:[(0,a.jsxs)("span",{className:"sm:hidden font-semibold",children:["Auction ID:"," "]}),s.auction_id]}),(0,a.jsx)("td",{className:"p-2 col-span-2",children:(0,a.jsx)("span",{className:"flex justify-center items-center h-28 relative rounded overflow-hidden ",children:(null===(n=s.images[0])||void 0===n?void 0:n.s3_image_url)?(0,a.jsx)(m(),{alt:"ecommerce",className:"object-cover object-center rounded h-full w-auto",src:null===(c=s.images[0])||void 0===c?void 0:c.s3_image_url,width:150,height:30}):(0,a.jsx)(m(),{alt:"ecommerce",className:"object-cover object-center w-32 rounded h-24 sm:h-auto",src:"/default.webp",width:150,height:30})})}),(0,a.jsxs)("td",{className:"text-center p-2 col-span-2",children:[(0,a.jsx)("span",{className:"sm:hidden font-semibold",children:"Name: "}),(0,a.jsx)("h2",{className:"title-font text-lg font-medium",children:s.auction_name})]}),(0,a.jsxs)("td",{className:"text-center p-2 font-semibold",children:[(0,a.jsx)("span",{className:"sm:hidden",children:"Current Price"}),(0,a.jsx)("span",{className:"accent",children:(0,u.fK)(s.current_price)})]}),(0,a.jsxs)("td",{className:"text-center p-2 font-semibold",children:[(0,a.jsx)("span",{className:"sm:hidden",children:"Starting Price"}),(0,a.jsx)("span",{className:"accent",children:(0,u.fK)(s.your_bid)})]}),(0,a.jsxs)("td",{className:"text-center p-2 font-semibold",children:[(0,a.jsx)("span",{className:"sm:hidden",children:"Time Left"}),(0,a.jsx)("span",{children:(0,a.jsx)(l.Z,{closingTime:s.closing_time})})]}),(0,a.jsxs)("td",{className:"text-center p-2 font-semibold",children:[(0,a.jsx)("span",{className:"sm:hidden",children:"Status"}),(0,a.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full ".concat(s.auction_won?" text-green-500":" text-red-500"),children:"open"!==s.status?s.auction_won?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"bi bi-trophy-fill mr-1"})," Won"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"bi bi-x-circle-fill mr-1"})," Lost"]}):"Auction in process"})]})]},t)})})]})}):(0,a.jsxs)("div",{className:"w-full border p-4 mt-6 text-center ",children:[(0,a.jsx)("p",{className:"bi bi-exclamation-triangle text-3xl text-gray-500"}),(0,a.jsx)("div",{children:"You have not participated in any auctions!"})]}),(null==s?void 0:s.length)!==0&&(0,a.jsxs)("div",{className:"flex justify-center items-center space-x-2 py-4",children:[(0,a.jsx)("button",{className:"px-3 py-1 rounded border border-gray-300 ".concat(1===b?"opacity-50 cursor-not-allowed":"hover:bg-[#54ffe925]"),onClick:()=>A(b-1),disabled:1===b,children:"Previous"}),Array.from({length:y}).map((e,s)=>(0,a.jsx)("button",{className:"px-3 py-1 rounded border ring-accent ".concat(b===s+1?"bg-accent text-white":"border-gray-300 hover:bg-[#54ffe925]"),onClick:()=>A(s+1),children:s+1},s+1)),(0,a.jsx)("button",{className:"px-3 py-1 rounded border border-gray-300 ".concat(b===y?"opacity-50 cursor-not-allowed":"hover:bg-[#54ffe925]"),onClick:()=>A(b+1),disabled:b===y,children:"Next"})]})]})}},9008:function(e,s,t){e.exports=t(7828)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=777)}),_N_E=e.O()}]);