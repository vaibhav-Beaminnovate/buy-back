(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{9371:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Brands/product/[productID]",function(){return a(8772)}])},8772:function(e,t,a){"use strict";a.r(t);var s=a(5893),n=a(9008),c=a.n(n),r=a(5675),l=a.n(r),i=a(1664),d=a.n(i),o=a(1163),u=a(7294),m=a(373);t.default=()=>{let e=(0,o.useRouter)(),{productID:t}=e.query,a="https://buybackservice.unicornstore.in",[n,r]=(0,u.useState)(null),[i,h]=(0,u.useState)(!0),[x,p]=(0,u.useState)(null),[g,f]=(0,u.useState)(null),[j,y]=(0,u.useState)(null),[w,b]=(0,u.useState)(null),[_,N]=(0,u.useState)(null),[v,S]=(0,u.useState)(null),[k,E]=(0,u.useState)(""),C=async()=>{let e=await fetch("".concat(a,"/get-variant-by-product_id?product_id=").concat(t));y(await e.json())};(0,u.useEffect)(()=>{t&&(async()=>{h(!0),p(null);try{let e=await fetch("".concat(a,"/get-product-by-id/?product_id=").concat(t));if(!e.ok)throw Error("Failed to fetch product data");let s=await e.json();r(s),b(s.price_upto),N(s.name),C();let n=await fetch("".concat(a,"/get-category-by-id?category_id=").concat(s.category_id));if(!n.ok)throw Error("Could not get category");let c=await n.json();E(c.name)}catch(e){p(e.message)}finally{h(!1)}})()},[t,a]);let B=async()=>{try{let e=await fetch("".concat(a,"/create-order"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:2,product_id:n.id,total_value:n.price_upto,status:"Pending"})});if(!e.ok)throw Error("Failed to create order");return(await e.json()).order_id}catch(e){p(e.message)}};return i?(0,s.jsx)("div",{className:"w-screen h-screen flex justify-center  bg-white mt-40",children:(0,s.jsx)(m.Z,{color:"#42c8b7",loading:i,size:40,"aria-label":"Loading Spinner","data-testid":"loader"})}):x?(0,s.jsx)("div",{className:"w-screen h-screen flex justify-center  bg-white mt-40",children:(0,s.jsxs)("p",{className:"text-red-500 text-lg",children:["Error: ",x]})}):n?(0,s.jsxs)("div",{className:"min-h-screen w-screen flex justify-center my-10 md:mt-28 lg:mt-10 bg-white",children:[(0,s.jsx)(c(),{children:(0,s.jsx)("title",{children:"BuyBack - Sell old ".concat(_," ").concat(v)})}),(0,s.jsxs)("div",{className:"max-w-screen-xl w-full px-3",children:[(0,s.jsxs)("p",{className:"md:heading font-semibold text-2xl px-5 md:ps-0",children:["Sell old ",n.name]}),(0,s.jsxs)("p",{className:"text-gray-500 text-base ps-5 md:ps-0",children:[(0,s.jsx)(d(),{href:"/",className:"text-gray-500 inline no-underline hover:underline",children:"Home"})," > ",(0,s.jsxs)(d(),{href:"/category/".concat(n.parent_category_id),className:"text-gray-500 inline no-underline hover:underline",children:["Sell old ",n.parent_category_name]})," > ",(0,s.jsxs)(d(),{href:"/Brands/".concat(n.parent_category_id,"/").concat(n.brand_id),className:"text-gray-500 inline no-underline hover:underline",children:["Sell old ",n.brand_name]})," > ",(0,s.jsxs)("span",{className:"text-black",children:["Sell old ",n.name]})]}),(0,s.jsxs)("div",{className:"lg:max-w-screen-xl min-h-96 rounded grid grid-cols-1 md:grid-cols-4 justify-start items-center mt-5 shadow-lg",children:[(0,s.jsx)("div",{className:"w-full flex justify-center ",children:(0,s.jsx)(l(),{src:n.image_url||"/refurbished.webp",width:150,height:100,alt:n.name||"Product image"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center md:items-start justify-start px-6 col-span-3 pb-4",children:[(0,s.jsxs)("p",{className:"text-lg mb-4 font-semibold",children:[_," ",v]}),(0,s.jsxs)("div",{className:"".concat(""),children:[(0,s.jsx)("p",{className:"",children:"Choose a variant"}),(0,s.jsxs)("p",{className:"mb-6 text-xl",children:["Get upto",(0,s.jsxs)("span",{className:"text-red-500",children:[" â‚¹",w]})]}),(0,s.jsx)("div",{id:"variants",className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-x-3 gap-y-3 mb-6",children:j&&j.length>0&&(null==j?void 0:j.map((e,t)=>(0,s.jsxs)("label",{className:"flex items-center py-2 px-5 md:px-10 lg:px-6 rounded shadow-md cursor-pointer min-w-40 custom-radio transition-all duration-75 ".concat(g===e.variant_id?"shadow-xl scale-105":""),onClick:()=>{b(e.price),S(e.name),f(e.variant_id)},children:[(0,s.jsx)("input",{type:"checkbox",name:"size",value:e.name,checked:g===e.variant_id,className:"hidden",readOnly:!0}),(0,s.jsx)("span",{className:"radio-custom"}),(0,s.jsx)("span",{className:"ms-3 flex items-center justify-center flex-col w-full",children:e.name})]},t)))})]}),(0,s.jsx)("button",{type:"button",disabled:!g,className:"bg-accent rounded px-4 py-2 shadow transition-colors text-white ".concat(g?"bg-accent text-white":"bg-gray-200"),onClick:async()=>{let t=await B();t&&e.push("/Brands/product/questions/".concat(g,"/").concat(t))},children:"Get Exact Value"})]})]})]})]}):(0,s.jsx)("div",{className:"w-screen h-screen flex justify-center  bg-white mt-40",children:(0,s.jsx)("p",{children:"No product data available"})})}},9008:function(e,t,a){e.exports=a(7828)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=9371)}),_N_E=e.O()}]);